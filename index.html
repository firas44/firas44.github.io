<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£Ø·ÙØ§Ù„ â€” ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø© ğŸˆ</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <!-- Cute font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"/>

  <style>
    :root{
      --bg1:#fff1f7;
      --bg2:#f0fbff;
      --ink:#243047;
      --pink:#ff5aa5;
      --purple:#7c5cff;
      --mint:#31d0aa;
      --sun:#ffcc4d;
      --card:#ffffffcc;
    }
    *{font-family:"Cairo", system-ui, -apple-system, Segoe UI, sans-serif;}
    body{
      color:var(--ink);
      background:
        radial-gradient(circle at 15% 20%, #ffe0ef 0 20%, transparent 21%),
        radial-gradient(circle at 80% 10%, #d7f5ff 0 22%, transparent 23%),
        radial-gradient(circle at 65% 75%, #e8e3ff 0 26%, transparent 27%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }
    .blob{
      position:absolute; inset:auto;
      width:280px; height:280px; border-radius: 45% 55% 50% 50% / 55% 45% 55% 45%;
      filter: blur(0.2px);
      opacity:.35;
      animation: floaty 8s ease-in-out infinite;
      z-index:-1;
    }
    .blob.b1{background: radial-gradient(circle, #ff8fc7, transparent 60%); top:-70px; right:-70px;}
    .blob.b2{background: radial-gradient(circle, #7ee8ff, transparent 60%); bottom:-90px; left:-70px; animation-duration:10s;}
    .blob.b3{background: radial-gradient(circle, #a7f3d0, transparent 60%); top:55%; right:-110px; animation-duration:12s;}
    @keyframes floaty{ 0%,100%{transform:translateY(0) rotate(0deg)} 50%{transform:translateY(-16px) rotate(6deg)} }

    .topbar{
      background: rgba(255,255,255,.65);
      border: 1px solid rgba(255,255,255,.6);
      backdrop-filter: blur(10px);
      box-shadow: 0 12px 30px rgba(0,0,0,.08);
      border-radius: 22px;
    }
    .title-badge{
      background: linear-gradient(90deg, var(--pink), var(--purple));
      color:#fff;
      border-radius: 999px;
      padding:.35rem .75rem;
      font-weight:800;
      display:inline-flex;
      gap:.45rem;
      align-items:center;
      box-shadow:0 10px 20px rgba(124,92,255,.25);
    }
    .mini-pill{
      border-radius:999px;
      background: rgba(255,255,255,.8);
      border:1px solid rgba(36,48,71,.08);
      padding:.35rem .65rem;
      font-weight:700;
      display:inline-flex;
      align-items:center;
      gap:.4rem;
    }

    .game-card{
      background: var(--card);
      border:1px solid rgba(255,255,255,.6);
      border-radius: 26px;
      box-shadow: 0 18px 40px rgba(0,0,0,.10);
      overflow:hidden;
    }
    .card-head{
      background: linear-gradient(90deg, rgba(255,90,165,.18), rgba(124,92,255,.18));
      padding: 14px 16px;
      border-bottom: 1px solid rgba(36,48,71,.06);
    }
    .btn-kid{
      border-radius: 14px;
      font-weight:800;
      border:none;
      padding:.65rem .95rem;
      box-shadow:0 12px 24px rgba(0,0,0,.10);
      transition: transform .08s ease;
    }
    .btn-kid:active{ transform: translateY(1px) scale(.99); }
    .btn-pink{ background: linear-gradient(90deg, var(--pink), #ff7cc0); color:#fff; }
    .btn-purple{ background: linear-gradient(90deg, var(--purple), #9b7bff); color:#fff; }
    .btn-mint{ background: linear-gradient(90deg, var(--mint), #67e8c9); color:#083b2f; }
    .btn-sun{ background: linear-gradient(90deg, var(--sun), #ffe08a); color:#5b4200; }

    .big-q{
      font-size: clamp(28px, 4.4vw, 52px);
      font-weight: 900;
      letter-spacing: .5px;
    }
    .score-badge{
      background: rgba(255,255,255,.85);
      border:1px dashed rgba(36,48,71,.18);
      padding:.5rem .75rem;
      border-radius: 16px;
      font-weight:900;
    }
    .hint{
      font-weight:700;
      opacity:.9;
    }
    .kid-input{
      border-radius: 16px;
      padding: .75rem 1rem;
      font-size: 1.1rem;
      font-weight:800;
      border: 2px solid rgba(124,92,255,.25);
      box-shadow: inset 0 2px 0 rgba(0,0,0,.03);
    }
    .soft{
      background: rgba(255,255,255,.7);
      border: 1px solid rgba(36,48,71,.08);
      border-radius: 18px;
      padding: 12px;
    }

    .tabby .nav-link{
      border-radius: 999px !important;
      font-weight:900;
      padding:.55rem .9rem;
      border: 1px solid rgba(36,48,71,.08);
      background: rgba(255,255,255,.7);
      margin: .2rem;
    }
    .tabby .nav-link.active{
      background: linear-gradient(90deg, var(--purple), var(--pink));
      color:#fff;
      border:none;
      box-shadow:0 12px 26px rgba(124,92,255,.25);
    }

    /* Shapes */
    .shape-bank, .shape-targets{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      justify-content:center;
      align-items:center;
    }
    .shape{
      width:86px; height:86px;
      border-radius: 22px;
      display:grid;
      place-items:center;
      background: rgba(255,255,255,.85);
      border: 2px solid rgba(36,48,71,.10);
      cursor: grab;
      user-select:none;
      box-shadow:0 12px 22px rgba(0,0,0,.08);
      transition: transform .12s ease;
    }
    .shape:hover{ transform: translateY(-2px) rotate(-1deg); }
    .shape:active{ cursor: grabbing; transform: translateY(0) scale(.98); }
    .target{
      width:110px; height:110px;
      border-radius: 26px;
      display:grid;
      place-items:center;
      background: rgba(255,255,255,.6);
      border: 3px dashed rgba(124,92,255,.35);
      box-shadow: inset 0 2px 0 rgba(0,0,0,.04);
    }
    .target.good{
      border-style: solid;
      border-color: rgba(49,208,170,.55);
      background: rgba(49,208,170,.14);
      animation: tada 0.8s;
    }
    .target.bad{
      border-style: solid;
      border-color: rgba(255,90,165,.55);
      background: rgba(255,90,165,.12);
      animation: shakeX 0.6s;
    }
    .tiny{
      font-size:.95rem;
    }

    /* Cute footer links */
    .lib a{
      text-decoration:none;
      font-weight:800;
    }
    .lib a:hover{ text-decoration:underline; }
  </style>
</head>

<body>
  <div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div>

  <div class="container py-4 py-lg-5 position-relative">
    <!-- Header -->
    <div class="topbar p-3 p-lg-4 mb-4 animate__animated animate__fadeInDown">
      <div class="d-flex flex-column flex-lg-row gap-3 align-items-lg-center justify-content-between">
        <div class="d-flex align-items-center gap-2">
          <span class="title-badge"><i class="bi bi-stars"></i> Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£Ø·ÙØ§Ù„</span>
          <span class="mini-pill"><i class="bi bi-music-note-beamed"></i> Ø£ØµÙˆØ§Øª</span>
          <span class="mini-pill"><i class="bi bi-lightning-charge-fill"></i> Ø­Ù…Ø§Ø³</span>
        </div>
        <div class="d-flex flex-wrap gap-2 justify-content-start justify-content-lg-end">
          <button class="btn btn-kid btn-sun" id="btnSound">
            <i class="bi bi-volume-up-fill me-1"></i> Ø§Ù„ØµÙˆØª: <span id="soundState">Ø´ØºÙ‘Ø§Ù„</span>
          </button>
          <button class="btn btn-kid btn-mint" id="btnConfetti">
            <i class="bi bi-balloon-heart-fill me-1"></i> Ù…ÙØ§Ø¬Ø£Ø© ğŸ‰
          </button>
          <button class="btn btn-kid btn-purple" id="btnResetAll">
            <i class="bi bi-arrow-clockwise me-1"></i> Ø¥Ø¹Ø§Ø¯Ø© ÙƒÙ„ Ø´ÙŠØ¡
          </button>
        </div>
      </div>
      <div class="mt-3 hint">
        ğŸ‘¶ Ø§Ø®ØªØ± Ù„Ø¹Ø¨Ø© Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„â€¦ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø±Ø­! (ÙˆØ§Ø¬Ù‡Ø© Ø¹Ø±Ø¨ÙŠØ© Ù„Ø·ÙŠÙØ© + Bootstrap + Ø£Ù†ÙŠÙ…ÙŠØ´Ù† + Ø£ØµÙˆØ§Øª)
      </div>
    </div>

    <!-- Tabs -->
    <ul class="nav nav-pills tabby justify-content-center mb-3 animate__animated animate__fadeInUp" id="gameTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#tabAdd" type="button" role="tab">
          <i class="bi bi-plus-circle-fill me-1"></i> Ø¬Ù…Ø¹
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tabSub" type="button" role="tab">
          <i class="bi bi-dash-circle-fill me-1"></i> Ø·Ø±Ø­
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tabCitrus" type="button" role="tab">
          <i class="bi bi-brightness-alt-high-fill me-1"></i> Ø¹Ù„ÙˆÙ…: Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª ğŸ‹ğŸŠ
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tabShapes" type="button" role="tab">
          <i class="bi bi-bounding-box-circles me-1"></i> Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø´ÙƒÙ„
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tabLibrary" type="button" role="tab">
          <i class="bi bi-journal-heart me-1"></i> Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
        </button>
      </li>
    </ul>

    <div class="tab-content" id="gameTabsContent">

      <!-- ADDITION -->
      <div class="tab-pane fade show active" id="tabAdd" role="tabpanel">
        <div class="game-card animate__animated animate__fadeIn">
          <div class="card-head d-flex flex-wrap gap-2 align-items-center justify-content-between">
            <div class="fw-bold fs-5"><i class="bi bi-plus-circle-fill me-1"></i> Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø¹</div>
            <div class="d-flex gap-2 align-items-center">
              <div class="score-badge">Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="addScore">0</span></div>
              <button class="btn btn-kid btn-pink" id="addNew"><i class="bi bi-play-fill me-1"></i> Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
            </div>
          </div>
          <div class="p-3 p-lg-4">
            <div class="row g-3 align-items-center">
              <div class="col-12 col-lg-6">
                <div class="soft text-center">
                  <div class="tiny mb-2">Ø­Ù„Ù‘ Ø§Ù„Ù…Ø³Ø£Ù„Ø© ğŸ‘‡</div>
                  <div class="big-q" id="addQ">â€”</div>
                </div>
              </div>
              <div class="col-12 col-lg-6">
                <div class="soft">
                  <label class="fw-bold mb-2">Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§:</label>
                  <div class="d-flex gap-2">
                    <input type="number" class="form-control kid-input" id="addAns" placeholder="Ù…Ø«Ø§Ù„: 7" />
                    <button class="btn btn-kid btn-purple" id="addCheck"><i class="bi bi-check2-circle me-1"></i> ØªØ­Ù‚Ù‘Ù‚</button>
                  </div>
                  <div class="mt-3">
                    <div id="addMsg" class="alert alert-light mb-0 tiny">Ø¬Ø§Ù‡Ø²ØŸ Ø§Ø¶ØºØ· â€œØ³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯â€ ğŸ¯</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-3 d-flex flex-wrap gap-2 justify-content-center">
              <span class="mini-pill"><i class="bi bi-emoji-smile-fill"></i> Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© Ø³ØªØ³Ù…Ø¹ ØµÙˆØªÙ‹Ø§ Ù„Ø·ÙŠÙÙ‹Ø§!</span>
              <span class="mini-pill"><i class="bi bi-lightbulb-fill"></i> ØªÙ„Ù…ÙŠØ­: Ø§Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ø¯Ø¯ÙŠÙ† Ù…Ø¹Ù‹Ø§</span>
            </div>
          </div>
        </div>
      </div>

      <!-- SUBTRACTION -->
      <div class="tab-pane fade" id="tabSub" role="tabpanel">
        <div class="game-card animate__animated animate__fadeIn">
          <div class="card-head d-flex flex-wrap gap-2 align-items-center justify-content-between">
            <div class="fw-bold fs-5"><i class="bi bi-dash-circle-fill me-1"></i> Ù„Ø¹Ø¨Ø© Ø§Ù„Ø·Ø±Ø­</div>
            <div class="d-flex gap-2 align-items-center">
              <div class="score-badge">Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="subScore">0</span></div>
              <button class="btn btn-kid btn-pink" id="subNew"><i class="bi bi-play-fill me-1"></i> Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
            </div>
          </div>
          <div class="p-3 p-lg-4">
            <div class="row g-3 align-items-center">
              <div class="col-12 col-lg-6">
                <div class="soft text-center">
                  <div class="tiny mb-2">Ø­Ù„Ù‘ Ø§Ù„Ù…Ø³Ø£Ù„Ø© ğŸ‘‡</div>
                  <div class="big-q" id="subQ">â€”</div>
                </div>
              </div>
              <div class="col-12 col-lg-6">
                <div class="soft">
                  <label class="fw-bold mb-2">Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§:</label>
                  <div class="d-flex gap-2">
                    <input type="number" class="form-control kid-input" id="subAns" placeholder="Ù…Ø«Ø§Ù„: 4" />
                    <button class="btn btn-kid btn-purple" id="subCheck"><i class="bi bi-check2-circle me-1"></i> ØªØ­Ù‚Ù‘Ù‚</button>
                  </div>
                  <div class="mt-3">
                    <div id="subMsg" class="alert alert-light mb-0 tiny">Ø¬Ø§Ù‡Ø²ØŸ Ø§Ø¶ØºØ· â€œØ³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯â€ ğŸ§ </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-3 d-flex flex-wrap gap-2 justify-content-center">
              <span class="mini-pill"><i class="bi bi-hand-thumbs-up-fill"></i> Ù…Ù…ØªØ§Ø²! Ø¬Ø±Ù‘Ø¨ Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø±Ø©</span>
              <span class="mini-pill"><i class="bi bi-lightbulb-fill"></i> ØªÙ„Ù…ÙŠØ­: Ø§Ø·Ø±Ø­ Ø§Ù„Ø£ØµØºØ± Ù…Ù† Ø§Ù„Ø£ÙƒØ¨Ø±</span>
            </div>
          </div>
        </div>
      </div>

      <!-- CITRUS SCIENCE -->
      <div class="tab-pane fade" id="tabCitrus" role="tabpanel">
        <div class="game-card animate__animated animate__fadeIn">
          <div class="card-head d-flex flex-wrap gap-2 align-items-center justify-content-between">
            <div class="fw-bold fs-5"><i class="bi bi-brightness-alt-high-fill me-1"></i> Ø¹Ù„ÙˆÙ…: Ø¹Ø§Ù„Ù… Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª ğŸŠğŸ‹</div>
            <div class="d-flex gap-2 align-items-center">
              <div class="score-badge">Ø§Ù„Ù†ØªÙŠØ¬Ø©: <span id="citScore">0</span> / <span id="citTotal">0</span></div>
              <button class="btn btn-kid btn-pink" id="citRestart"><i class="bi bi-arrow-repeat me-1"></i> Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
            </div>
          </div>

          <div class="p-3 p-lg-4">
            <div class="row g-3">
              <div class="col-12 col-lg-6">
                <div class="soft">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="fw-bold">Ø§Ù„Ø³Ø¤Ø§Ù„:</div>
                    <span class="mini-pill"><i class="bi bi-patch-question-fill"></i> Ù…Ù…ØªØ¹!</span>
                  </div>
                  <div class="mt-2 big-q" style="font-size: clamp(22px, 2.4vw, 34px);" id="citQ">â€”</div>
                  <div class="tiny mt-2 opacity-75">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ğŸ‘‡</div>
                </div>
                <div class="mt-3 soft">
                  <div id="citChoices" class="d-grid gap-2"></div>
                </div>
              </div>

              <div class="col-12 col-lg-6">
                <div class="soft text-center">
                  <div class="tiny mb-2">ØµÙˆØ±Ø© Ù„Ø·ÙŠÙØ© (Ø±Ù…Ø²ÙŠØ©) ğŸ¥°</div>
                  <div class="display-2">ğŸ‹ğŸŠğŸŠğŸ‹</div>
                  <div class="tiny opacity-75">Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª Ù…Ù„ÙŠØ§Ù†Ø© ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª!</div>
                </div>
                <div class="mt-3" id="citMsgWrap">
                  <div id="citMsg" class="alert alert-light mb-0 tiny">Ø§Ø¶ØºØ· Ø¥Ø¬Ø§Ø¨Ø© Ù„ØªÙƒÙ…Ù„ ğŸŒŸ</div>
                </div>
              </div>
            </div>

            <div class="mt-3 d-flex flex-wrap gap-2 justify-content-center">
              <span class="mini-pill"><i class="bi bi-heart-fill"></i> Ø§Ù„ÙÙŠØªØ§Ù…ÙŠÙ† Ø§Ù„Ø£Ø´Ù‡Ø±: C</span>
              <span class="mini-pill"><i class="bi bi-tree-fill"></i> Ø§Ù„ÙØ§ÙƒÙ‡Ø© ØªÙ†Ù…Ùˆ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø´Ø¬Ø§Ø±</span>
              <span class="mini-pill"><i class="bi bi-droplet-fill"></i> Ø§Ø´Ø±Ø¨ Ù…Ø§Ø¡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¹ØµÙŠØ±</span>
            </div>
          </div>
        </div>
      </div>

      <!-- SHAPES -->
      <div class="tab-pane fade" id="tabShapes" role="tabpanel">
        <div class="game-card animate__animated animate__fadeIn">
          <div class="card-head d-flex flex-wrap gap-2 align-items-center justify-content-between">
            <div class="fw-bold fs-5"><i class="bi bi-bounding-box-circles me-1"></i> Ù„Ø¹Ø¨Ø© Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø´ÙƒÙ„</div>
            <div class="d-flex gap-2 align-items-center">
              <div class="score-badge">ØªÙ…Ù‘: <span id="shapeDone">0</span> / <span id="shapeAll">4</span></div>
              <button class="btn btn-kid btn-pink" id="shapeReset"><i class="bi bi-arrow-clockwise me-1"></i> Ø¥Ø¹Ø§Ø¯Ø©</button>
            </div>
          </div>

          <div class="p-3 p-lg-4">
            <div class="soft text-center mb-3">
              <div class="fw-bold">Ø§Ø³Ø­Ø¨ Ø§Ù„Ø´ÙƒÙ„ ÙˆØ¶Ø¹Ù‡ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ ğŸ‘‡</div>
              <div class="tiny opacity-75">Drag & Drop (Ø³Ø­Ø¨ ÙˆØ¥ÙÙ„Ø§Øª)</div>
            </div>

            <div class="row g-3">
              <div class="col-12 col-lg-6">
                <div class="soft">
                  <div class="fw-bold mb-2 text-center">Ø§Ù„Ø£Ø´ÙƒØ§Ù„</div>
                  <div class="shape-bank" id="shapeBank"></div>
                </div>
              </div>
              <div class="col-12 col-lg-6">
                <div class="soft">
                  <div class="fw-bold mb-2 text-center">Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©</div>
                  <div class="shape-targets" id="shapeTargets"></div>
                </div>
              </div>
            </div>

            <div class="mt-3">
              <div id="shapeMsg" class="alert alert-light mb-0 tiny text-center">Ù‡ÙŠØ§ Ù†Ù„Ø¹Ø¨! ğŸ§©</div>
            </div>
          </div>
        </div>
      </div>

      <!-- LIBRARY -->
      <div class="tab-pane fade" id="tabLibrary" role="tabpanel">
        <div class="game-card animate__animated animate__fadeIn">
          <div class="card-head d-flex flex-wrap gap-2 align-items-center justify-content-between">
            <div class="fw-bold fs-5"><i class="bi bi-journal-heart me-1"></i> Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (ØªØ¹Ù„ÙŠÙ… Ù„Ø·ÙŠÙ)</div>
            <span class="mini-pill"><i class="bi bi-link-45deg"></i> Ø±ÙˆØ§Ø¨Ø· Ù…ÙÙŠØ¯Ø©</span>
          </div>

          <div class="p-3 p-lg-4">
            <div class="soft lib">
              <div class="fw-bold mb-2">Ø±ÙˆØ§Ø¨Ø· â€œÙƒÙŠÙˆØªâ€ Ù„ØªØ¹Ù„Ù… HTML / CSS / JavaScript + Ø£Ù†ÙŠÙ…ÙŠØ´Ù† ÙˆØµÙˆØª:</div>
              <ul class="mb-0">
                <li>ğŸ“˜ ØªØ¹Ù„Ù… HTML: <a href="https://www.w3schools.com/html/" target="_blank" rel="noopener">W3Schools HTML</a></li>
                <li>ğŸ¨ ØªØ¹Ù„Ù… CSS: <a href="https://www.w3schools.com/css/" target="_blank" rel="noopener">W3Schools CSS</a></li>
                <li>âš¡ ØªØ¹Ù„Ù… JavaScript: <a href="https://javascript.info/" target="_blank" rel="noopener">javascript.info</a></li>
                <li>ğŸ§¸ Bootstrap: <a href="https://getbootstrap.com/docs/5.3/getting-started/introduction/" target="_blank" rel="noopener">Bootstrap Docs</a></li>
                <li>âœ¨ Animate.css: <a href="https://animate.style/" target="_blank" rel="noopener">animate.style</a></li>
                <li>ğŸ‰ Confetti: <a href="https://www.npmjs.com/package/canvas-confetti" target="_blank" rel="noopener">canvas-confetti</a></li>
                <li>ğŸ”Š Ø£ØµÙˆØ§Øª (Howler.js): <a href="https://howlerjs.com/" target="_blank" rel="noopener">howlerjs.com</a></li>
                <li>ğŸ–¼ï¸ SVG Ø£Ø´ÙƒØ§Ù„: <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial" target="_blank" rel="noopener">MDN SVG Tutorial</a></li>
              </ul>
            </div>

            <div class="mt-3 soft">
              <div class="fw-bold">Ù…Ù„Ø§Ø­Ø¸Ø© Ù„Ù„Ø£Ù‡Ù„/Ø§Ù„Ù…Ø¹Ù„Ù… ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
              <div class="tiny">
                Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØªØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ù…Ù„ÙØ§Øª Ø¥Ø¶Ø§ÙÙŠØ© (ÙƒÙ„ Ø´ÙŠØ¡ Ø¯Ø§Ø®Ù„ Ù…Ù„Ù ÙˆØ§Ø­Ø¯). ØªØ­ØªØ§Ø¬ ÙÙ‚Ø· Ø¥Ù†ØªØ±Ù†Øª Ù„ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù€ CDN.
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="text-center mt-4 tiny opacity-75">
      ØµÙÙ…Ù…Øª Ø¨Ø­Ø¨ Ù„Ù„Ø£Ø·ÙØ§Ù„ ğŸ’– â€” Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ®Ù„Ù‘ÙŠ Ø§Ù„Ù…Ø±Ø­ ÙŠØ¨Ø¯Ø£!
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Confetti + Howler -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/howler@2.2.4/dist/howler.min.js"></script>

  <script>
    // ========= Cute Sound System =========
    let soundOn = true;

    // Tiny beep SFX (no external audio files) using WebAudio
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    let ctx = null;

    function ensureCtx(){
      if(!ctx) ctx = new AudioCtx();
      if(ctx.state === "suspended") ctx.resume();
    }

    function beep(freq=660, dur=0.10, type="sine", gain=0.08){
      if(!soundOn) return;
      ensureCtx();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.type = type;
      o.frequency.value = freq;
      g.gain.value = gain;
      o.connect(g); g.connect(ctx.destination);
      o.start();
      setTimeout(() => { o.stop(); }, dur*1000);
    }

    function sfxCorrect(){
      beep(740, 0.08, "triangle", 0.08);
      setTimeout(()=>beep(980, 0.09, "triangle", 0.07), 90);
      setTimeout(()=>beep(1240, 0.10, "triangle", 0.06), 190);
    }
    function sfxWrong(){
      beep(220, 0.14, "sawtooth", 0.05);
      setTimeout(()=>beep(180, 0.18, "sawtooth", 0.04), 140);
    }
    function sfxClick(){
      beep(520, 0.05, "square", 0.03);
    }

    // ========= Confetti =========
    function party(){
      confetti({
        particleCount: 120,
        spread: 70,
        origin: { y: 0.65 }
      });
    }

    // ========= Helpers =========
    function setAlert(el, type, html){
      el.className = "alert mb-0 tiny alert-" + type;
      el.innerHTML = html;
      el.classList.add("animate__animated","animate__pulse");
      setTimeout(()=>el.classList.remove("animate__animated","animate__pulse"), 900);
    }
    function randInt(min, max){ // inclusive
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // ========= UI Buttons =========
    const soundBtn = document.getElementById("btnSound");
    const soundState = document.getElementById("soundState");
    soundBtn.addEventListener("click", ()=>{
      soundOn = !soundOn;
      soundState.textContent = soundOn ? "Ø´ØºÙ‘Ø§Ù„" : "Ù…Ù‚ÙÙˆÙ„";
      sfxClick();
      if(soundOn) sfxCorrect();
    });

    document.getElementById("btnConfetti").addEventListener("click", ()=>{
      sfxClick(); party();
    });

    document.getElementById("btnResetAll").addEventListener("click", ()=>{
      sfxClick();
      resetAddition(true);
      resetSubtraction(true);
      resetCitrus(true);
      resetShapes(true);
      party();
    });

    // ========= Game 1: Addition =========
    let addA=0, addB=0, addScore=0;

    const addQ = document.getElementById("addQ");
    const addAns = document.getElementById("addAns");
    const addMsg = document.getElementById("addMsg");
    const addScoreEl = document.getElementById("addScore");

    function newAddition(){
      addA = randInt(0, 9);
      addB = randInt(0, 9);
      addQ.textContent = `${addA} + ${addB} = ØŸ`;
      addAns.value = "";
      addAns.focus();
      setAlert(addMsg, "light", "Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø«Ù… Ø§Ø¶ØºØ· â€œØªØ­Ù‚Ù‘Ù‚â€ âœ…");
      sfxClick();
    }

    function checkAddition(){
      const v = Number(addAns.value);
      if(Number.isNaN(v) || addAns.value === ""){
        setAlert(addMsg, "warning", "Ø§ÙƒØªØ¨ Ø±Ù‚Ù…Ù‹Ø§ Ø£ÙˆÙ„Ø§Ù‹ ğŸ˜„");
        sfxWrong();
        return;
      }
      const ok = (v === addA + addB);
      if(ok){
        addScore++;
        addScoreEl.textContent = addScore;
        setAlert(addMsg, "success", "Ø¨Ø±Ø§Ú¤Ùˆ! Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© ğŸŒŸ");
        sfxCorrect(); party();
        newAddition();
      }else{
        setAlert(addMsg, "danger", "ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§! Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ© ğŸ’ª");
        sfxWrong();
        addAns.select();
      }
    }

    function resetAddition(silent=false){
      addScore = 0;
      addScoreEl.textContent = "0";
      addQ.textContent = "â€”";
      addAns.value = "";
      if(!silent) setAlert(addMsg, "light", "ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø¹ âœ…");
    }

    document.getElementById("addNew").addEventListener("click", newAddition);
    document.getElementById("addCheck").addEventListener("click", checkAddition);
    addAns.addEventListener("keydown", (e)=>{ if(e.key==="Enter") checkAddition(); });

    // ========= Game 2: Subtraction =========
    let subA=0, subB=0, subScore=0;

    const subQ = document.getElementById("subQ");
    const subAns = document.getElementById("subAns");
    const subMsg = document.getElementById("subMsg");
    const subScoreEl = document.getElementById("subScore");

    function newSubtraction(){
      const x = randInt(0, 9);
      const y = randInt(0, 9);
      subA = Math.max(x,y);
      subB = Math.min(x,y);
      subQ.textContent = `${subA} âˆ’ ${subB} = ØŸ`;
      subAns.value = "";
      subAns.focus();
      setAlert(subMsg, "light", "Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø«Ù… Ø§Ø¶ØºØ· â€œØªØ­Ù‚Ù‘Ù‚â€ âœ…");
      sfxClick();
    }

    function checkSubtraction(){
      const v = Number(subAns.value);
      if(Number.isNaN(v) || subAns.value === ""){
        setAlert(subMsg, "warning", "Ø§ÙƒØªØ¨ Ø±Ù‚Ù…Ù‹Ø§ Ø£ÙˆÙ„Ø§Ù‹ ğŸ˜„");
        sfxWrong();
        return;
      }
      const ok = (v === subA - subB);
      if(ok){
        subScore++;
        subScoreEl.textContent = subScore;
        setAlert(subMsg, "success", "ÙŠØ§ Ø³Ù„Ø§Ù…! ØµØ­ÙŠØ­ ğŸŒˆ");
        sfxCorrect(); party();
        newSubtraction();
      }else{
        setAlert(subMsg, "danger", "Ù…Ùˆ Ù…Ø´ÙƒÙ„Ø©! Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ© âœ¨");
        sfxWrong();
        subAns.select();
      }
    }

    function resetSubtraction(silent=false){
      subScore = 0;
      subScoreEl.textContent = "0";
      subQ.textContent = "â€”";
      subAns.value = "";
      if(!silent) setAlert(subMsg, "light", "ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ù„Ø¹Ø¨Ø© Ø§Ù„Ø·Ø±Ø­ âœ…");
    }

    document.getElementById("subNew").addEventListener("click", newSubtraction);
    document.getElementById("subCheck").addEventListener("click", checkSubtraction);
    subAns.addEventListener("keydown", (e)=>{ if(e.key==="Enter") checkSubtraction(); });

    // ========= Game 3: Citrus Science Quiz =========
    const citQ = document.getElementById("citQ");
    const citChoices = document.getElementById("citChoices");
    const citMsg = document.getElementById("citMsg");
    const citScoreEl = document.getElementById("citScore");
    const citTotalEl = document.getElementById("citTotal");

    const citrusBankBase = [
      {
        q: "Ø£ÙŠ ÙÙŠØªØ§Ù…ÙŠÙ† Ù…Ø´Ù‡ÙˆØ± Ù…ÙˆØ¬ÙˆØ¯ Ø¨ÙƒØ«Ø±Ø© ÙÙŠ Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ ÙˆØ§Ù„Ù„ÙŠÙ…ÙˆÙ†ØŸ",
        choices: ["ÙÙŠØªØ§Ù…ÙŠÙ† C", "ÙÙŠØªØ§Ù…ÙŠÙ† D", "ÙÙŠØªØ§Ù…ÙŠÙ† K", "ÙÙŠØªØ§Ù…ÙŠÙ† B12"],
        a: 0
      },
      {
        q: "Ø·Ø¹Ù… Ø§Ù„Ù„ÙŠÙ…ÙˆÙ† ØºØ§Ù„Ø¨Ù‹Ø§ ÙŠÙƒÙˆÙ†â€¦",
        choices: ["Ø­Ù„Ùˆ Ø¬Ø¯Ù‹Ø§", "Ø­Ø§Ù…Ø¶", "Ù…Ø§Ù„Ø­", "Ø¨Ø¯ÙˆÙ† Ø·Ø¹Ù…"],
        a: 1
      },
      {
        q: "Ù…Ø§ Ù‡ÙŠ ÙØ§ÙƒÙ‡Ø© Ø­Ù…Ø¶ÙŠØ©ØŸ",
        choices: ["Ø§Ù„ØªÙØ§Ø­", "Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„", "Ø§Ù„Ù…ÙˆØ²", "Ø§Ù„Ø¹Ù†Ø¨"],
        a: 1
      },
      {
        q: "Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª ØªÙ†Ù…Ùˆ Ø¹Ø§Ø¯Ø© Ø¹Ù„Ù‰â€¦",
        choices: ["Ø´Ø¬Ø±Ø©", "Ø³Ù…ÙƒØ©", "Ø³ÙŠØ§Ø±Ø©", "ÙƒØªØ§Ø¨"],
        a: 0
      },
      {
        q: "Ù„ÙˆÙ† Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ ØºØ§Ù„Ø¨Ù‹Ø§ ÙŠÙƒÙˆÙ†â€¦",
        choices: ["Ø£Ø²Ø±Ù‚", "Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ", "Ø£Ø³ÙˆØ¯", "Ø¨Ù†ÙØ³Ø¬ÙŠ"],
        a: 1
      }
    ];

    let citrusIndex = 0;
    let citrusScore = 0;
    let citrusBank = [];

    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]] = [a[j],a[i]];
      }
      return a;
    }

    function renderCitrus(){
      if(citrusIndex >= citrusBank.length){
        const total = citrusBank.length;
        setAlert(citMsg, "success", `Ø®Ù„ØµÙ†Ø§! Ù†ØªÙŠØ¬ØªÙƒ: <b>${citrusScore}</b> Ù…Ù† <b>${total}</b> ğŸ‰`);
        party(); sfxCorrect();
        citQ.textContent = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± âœ…";
        citChoices.innerHTML = `
          <button class="btn btn-kid btn-mint w-100" onclick="resetCitrus(false)">
            <i class="bi bi-arrow-repeat me-1"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
          </button>`;
        return;
      }

      const item = citrusBank[citrusIndex];
      citQ.textContent = item.q;
      citChoices.innerHTML = "";

      item.choices.forEach((c, idx)=>{
        const btn = document.createElement("button");
        btn.className = "btn btn-kid btn-sun w-100 text-start";
        btn.innerHTML = `<i class="bi bi-caret-left-fill me-1"></i> ${c}`;
        btn.addEventListener("click", ()=> chooseCitrus(idx));
        citChoices.appendChild(btn);
      });

      citTotalEl.textContent = citrusBank.length;
      citScoreEl.textContent = citrusScore;
      setAlert(citMsg, "light", `Ø³Ø¤Ø§Ù„ Ø±Ù‚Ù… ${citrusIndex+1} ğŸ‹`);
      sfxClick();
    }

    function chooseCitrus(choiceIdx){
      const item = citrusBank[citrusIndex];
      const ok = (choiceIdx === item.a);
      if(ok){
        citrusScore++;
        setAlert(citMsg, "success", "ØµØ­! Ø£Ù†Øª Ø´Ø§Ø·Ø± Ø¬Ø¯Ù‹Ø§ ğŸŒŸ");
        sfxCorrect(); party();
      }else{
        setAlert(citMsg, "danger", `Ù…Ø´ Ù…Ø´ÙƒÙ„Ø©! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: <b>${item.choices[item.a]}</b>`);
        sfxWrong();
      }
      citrusIndex++;
      citScoreEl.textContent = citrusScore;
      setTimeout(renderCitrus, 550);
    }

    function resetCitrus(silent=false){
      citrusBank = shuffle(citrusBankBase);
      citrusIndex = 0;
      citrusScore = 0;
      citScoreEl.textContent = "0";
      citTotalEl.textContent = String(citrusBank.length);
      if(!silent) sfxClick();
      renderCitrus();
    }

    document.getElementById("citRestart").addEventListener("click", ()=>resetCitrus(false));

    // ========= Game 4: Match the Shape =========
    const shapeBankEl = document.getElementById("shapeBank");
    const shapeTargetsEl = document.getElementById("shapeTargets");
    const shapeDoneEl = document.getElementById("shapeDone");
    const shapeAllEl = document.getElementById("shapeAll");
    const shapeMsg = document.getElementById("shapeMsg");

    const shapes = [
      { id:"circle",  label:"Ø¯Ø§Ø¦Ø±Ø©",    icon:"â—", color:"#ff5aa5" },
      { id:"square",  label:"Ù…Ø±Ø¨Ø¹",     icon:"â– ", color:"#7c5cff" },
      { id:"triangle",label:"Ù…Ø«Ù„Ø«",     icon:"â–²", color:"#31d0aa" },
      { id:"star",    label:"Ù†Ø¬Ù…Ø©",     icon:"â˜…", color:"#ffcc4d" },
    ];

    let doneCount = 0;

    function makeShapeEl(s){
      const el = document.createElement("div");
      el.className = "shape";
      el.draggable = true;
      el.id = "shape_" + s.id;
      el.dataset.shape = s.id;
      el.innerHTML = `
        <div style="font-size:44px; line-height:1; color:${s.color}; text-shadow:0 8px 18px rgba(0,0,0,.12)">
          ${s.icon}
        </div>
        <div class="tiny mt-1 fw-bold">${s.label}</div>
      `;
      el.addEventListener("dragstart", (e)=>{
        e.dataTransfer.setData("text/plain", s.id);
        el.classList.add("animate__animated","animate__pulse");
        setTimeout(()=>el.classList.remove("animate__animated","animate__pulse"), 700);
      });
      return el;
    }

    function makeTargetEl(s){
      const el = document.createElement("div");
      el.className = "target";
      el.dataset.target = s.id;
      el.innerHTML = `
        <div class="text-center">
          <div style="font-size:34px; color:${s.color}; opacity:.55">${s.icon}</div>
          <div class="tiny fw-bold">${s.label}</div>
        </div>
      `;

      el.addEventListener("dragover", (e)=>{ e.preventDefault(); });
      el.addEventListener("drop", (e)=>{
        e.preventDefault();
        const dragged = e.dataTransfer.getData("text/plain");
        const want = el.dataset.target;

        el.classList.remove("good","bad");

        if(dragged === want){
          // success
          const draggedEl = document.getElementById("shape_" + dragged);
          if(draggedEl){
            draggedEl.remove();
          }
          el.classList.add("good");
          el.innerHTML = `<div class="text-center">
            <div style="font-size:38px; color:${s.color}">${s.icon}</div>
            <div class="fw-bold">ØµØ­ âœ…</div>
          </div>`;
          doneCount++;
          shapeDoneEl.textContent = doneCount;
          setAlert(shapeMsg, "success", "Ù…Ù…ØªØ§Ø²! Ø·Ø§Ø¨Ù‚Ø© ØµØ­ ğŸŒŸ");
          sfxCorrect(); party();

          if(doneCount === shapes.length){
            setAlert(shapeMsg, "success", "ÙˆØ§Ùˆ! Ø®Ù„ØµØª ÙƒÙ„ Ø§Ù„Ø£Ø´ÙƒØ§Ù„ ğŸ‰ğŸ‘");
            party();
          }
        }else{
          el.classList.add("bad");
          setAlert(shapeMsg, "danger", "Ù„Ø§Ø§Ø§! Ù‡Ø°Ø§ Ù…Ø´ Ù…ÙƒØ§Ù†Ù‡ ğŸ˜… Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©");
          sfxWrong();
          setTimeout(()=>el.classList.remove("bad"), 650);
        }
      });

      return el;
    }

    function resetShapes(silent=false){
      shapeBankEl.innerHTML = "";
      shapeTargetsEl.innerHTML = "";
      doneCount = 0;
      shapeDoneEl.textContent = "0";
      shapeAllEl.textContent = String(shapes.length);

      // shuffle both sides for fun
      const shuffled = shuffle(shapes);
      shuffled.forEach(s => shapeBankEl.appendChild(makeShapeEl(s)));
      shuffle(shapes).forEach(s => shapeTargetsEl.appendChild(makeTargetEl(s)));

      setAlert(shapeMsg, "light", "Ø§Ø³Ø­Ø¨ Ø§Ù„Ø´ÙƒÙ„ Ù„Ù„Ù…ÙƒØ§Ù† Ø§Ù„ØµØ­ÙŠØ­ ğŸ§©");
      if(!silent) sfxClick();
    }

    document.getElementById("shapeReset").addEventListener("click", ()=>resetShapes(false));

    // ========= Start-up =========
    // Prepare initial content (but don't auto-start math unless you want)
    resetCitrus(true);   // show first citrus question
    resetShapes(true);   // show shapes
    resetAddition(true); // clean
    resetSubtraction(true); // clean

    // Small welcome confetti on first click anywhere (to allow audio context on user gesture)
    let welcomed = false;
    document.addEventListener("click", ()=>{
      if(welcomed) return;
      welcomed = true;
      if(soundOn) ensureCtx();
    }, { once:true });
  </script>
</body>
</html>
