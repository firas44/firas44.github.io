<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>ğŸŒˆ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© - Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø³Ø¬Ù‰ Ø¯Ø±Ø§ÙˆØ´Ù‡</title>

  <!-- Bootstrap RTL -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

  <!-- Alertify (IMPORTANT: in HEAD so it is ready before JS uses it) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>

  <style>
    :root{
      --kid-pink:#FF85A2;
      --kid-blue:#3DC2FF;
      --kid-yellow:#FFD166;
      --kid-green:#06D6A0;
      --kid-purple:#9D4EDD;
      --kid-orange:#FF9E6D;
      --dark:#2D3047;
      --light:#F8F9FA;
    }
    *{font-family:'Cairo',sans-serif;box-sizing:border-box}
    body{
      background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);
      min-height:100vh;color:var(--dark);background-attachment:fixed;overflow-x:hidden;
    }

    /* Header */
    .site-header{
      background:linear-gradient(90deg,var(--kid-pink) 0%,var(--kid-purple) 100%);
      border-radius:0 0 40px 40px;
      padding:28px 0;
      position:relative;overflow:hidden;
      box-shadow:0 10px 40px rgba(157,78,221,.2);
    }
    .header-design{position:absolute;inset:0;z-index:1;overflow:hidden}
    .bubble{position:absolute;border-radius:50%;background:rgba(255,255,255,.10);animation:float 15s infinite ease-in-out}
    @keyframes float{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-30px) rotate(180deg)}}

    .teacher-card{
      background:rgba(255,255,255,.92);
      backdrop-filter:blur(10px);
      border-radius:25px;
      padding:22px;
      box-shadow:0 15px 35px rgba(0,0,0,.10);
      border:3px solid #fff;
      position:relative;z-index:2;
    }

    /* Nav */
    .top-nav{
      position:sticky;top:0;z-index:1000;
      background:rgba(255,255,255,.85);
      backdrop-filter:blur(10px);
      border-bottom:1px solid rgba(0,0,0,.06);
    }
    .nav-pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:10px 14px;border-radius:999px;
      text-decoration:none;color:var(--dark);
      background:#fff;border:1px solid rgba(0,0,0,.06);
      transition:.2s;
      white-space:nowrap;
    }
    .nav-pill:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,.07)}
    .nav-scroll{overflow:auto;scrollbar-width:thin}

    /* Main */
    .main-container{padding:35px 0}
    .section-title{
      position:relative;padding-right:25px;margin-bottom:26px
    }
    .section-title:before{
      content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);
      width:10px;height:100%;
      background:linear-gradient(to bottom,var(--kid-pink),var(--kid-purple));
      border-radius:10px;
    }

    /* Cards */
    .edu-card{
      background:#fff;border-radius:25px;overflow:hidden;
      box-shadow:0 15px 35px rgba(0,0,0,.08);
      transition:all .35s ease;
      margin-bottom:24px;border:3px solid #fff;height:100%;
    }
    .edu-card:hover{transform:translateY(-10px);box-shadow:0 25px 50px rgba(0,0,0,.14)}
    .card-header{padding:20px;color:#fff;position:relative;overflow:hidden}
    .doc-card .card-header{background:linear-gradient(90deg,#3DC2FF 0%,#118AB2 100%)}
    .presentation-card .card-header{background:linear-gradient(90deg,#FF9E6D 0%,#EF476F 100%)}
    .games-card .card-header{background:linear-gradient(90deg,#FFD166 0%,#FF9A3C 100%);color:#333}
    .video-card .card-header{background:linear-gradient(90deg,#06D6A0 0%,#04B586 100%)}
    .gallery-card .card-header{background:linear-gradient(90deg,#9D4EDD 0%,#C471ED 100%)}
    .links-card .card-header{background:linear-gradient(90deg,#4ECDC4 0%,#44A08D 100%)}

    .card-body{padding:20px}

    /* Items */
    .doc-item{
      border-right:5px solid var(--kid-blue);
      padding:14px;margin-bottom:12px;background:var(--light);
      border-radius:16px;transition:.25s;position:relative;overflow:hidden;
    }
    .doc-item:hover{transform:translateX(-8px);box-shadow:0 10px 20px rgba(61,194,255,.10);background:#fff}
    .doc-meta{font-size:.95rem;color:#666}
    .tiny{font-size:.9rem;color:#6c757d}

    /* Buttons */
    .edu-btn{
      border-radius:999px;padding:10px 18px;font-weight:800;border:none;
      transition:.25s;position:relative;overflow:hidden;
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
      text-decoration:none;
    }
    .edu-btn:hover{transform:translateY(-2px)}
    .btn-view{background:linear-gradient(90deg,#3DC2FF 0%,#118AB2 100%);color:#fff}
    .btn-add{background:linear-gradient(90deg,var(--kid-pink) 0%,var(--kid-purple) 100%);color:#fff}
    .btn-soft{background:#fff;border:1px solid rgba(0,0,0,.08);color:var(--dark)}
    .btn-math{background:linear-gradient(90deg,#FF6B8B 0%,#FF8E53 100%);color:#fff}
    .btn-science{background:linear-gradient(90deg,#4ECDC4 0%,#44A08D 100%);color:#fff}
    .btn-arabic{background:linear-gradient(90deg,#9D4EDD 0%,#C471ED 100%);color:#fff}
    .btn-game{background:linear-gradient(90deg,#FFD166 0%,#FF9A3C 100%);color:#333}

    /* Score */
    .score-box{
      background:linear-gradient(90deg,var(--kid-yellow) 0%,var(--kid-orange) 100%);
      color:#333;border-radius:25px;padding:18px;border:4px solid #fff;
      box-shadow:0 12px 28px rgba(0,0,0,.08);
    }

    /* Gallery */
    .image-gallery{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(210px,1fr));
      gap:12px;
    }
    .edu-image{border-radius:16px;overflow:hidden;height:185px;position:relative;cursor:pointer}
    .edu-image img{width:100%;height:100%;object-fit:cover;transition:transform .5s}
    .edu-image:hover img{transform:scale(1.1)}
    .image-overlay{
      position:absolute;inset:auto 0 0 0;
      background:linear-gradient(transparent,rgba(0,0,0,.70));
      color:#fff;padding:10px;transform:translateY(100%);transition:.25s
    }
    .edu-image:hover .image-overlay{transform:translateY(0)}

    /* Videos */
    .video-container{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:16px;margin:10px 0}
    .video-container iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0}

    /* Quiz */
    .game-wrap{background:#fff;border-radius:20px;padding:18px;border:2px dashed var(--kid-yellow)}
    .question-box{
      background:linear-gradient(135deg,rgba(255,133,162,.10) 0%,rgba(157,78,221,.10) 100%);
      border-radius:18px;padding:18px;font-size:1.25rem;font-weight:900;text-align:center;
      margin:14px 0;border:3px solid var(--kid-pink);
    }
    .answer-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin:12px 0}
    .answer-option{
      background:#fff;border:3px solid #e9ecef;border-radius:14px;padding:14px;cursor:pointer;
      transition:.2s;font-weight:800;text-align:center
    }
    .answer-option:hover{transform:translateY(-3px);border-color:var(--kid-blue);box-shadow:0 10px 18px rgba(61,194,255,.10)}
    .answer-option.correct{background:linear-gradient(90deg,#06D6A0 0%,#04B586 100%);color:#fff;border-color:#06D6A0}
    .answer-option.wrong{background:linear-gradient(90deg,#EF476F 0%,#D43A5E 100%);color:#fff;border-color:#EF476F}
    .progress-container{background:#e9ecef;border-radius:10px;height:18px;overflow:hidden}
    .progress-barx{height:100%;background:linear-gradient(90deg,var(--kid-pink) 0%,var(--kid-purple) 100%);border-radius:10px;transition:width .35s ease}

    /* Memory game */
    .memory-grid{
      display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:12px
    }
    .memory-card{
      height:72px;border-radius:14px;border:2px solid rgba(0,0,0,.08);
      display:flex;align-items:center;justify-content:center;
      font-size:1.6rem;font-weight:900;background:#fff;cursor:pointer;
      transition:.2s;
      user-select:none;
    }
    .memory-card:hover{transform:translateY(-2px);box-shadow:0 10px 16px rgba(0,0,0,.08)}
    .memory-card.revealed{background:linear-gradient(90deg,#3DC2FF 0%,#118AB2 100%);color:#fff;border-color:transparent}
    .memory-card.matched{background:linear-gradient(90deg,#06D6A0 0%,#04B586 100%);color:#fff;border-color:transparent}

    /* Speed math */
    .speed-box{
      background:linear-gradient(135deg,rgba(61,194,255,.10) 0%,rgba(6,214,160,.10) 100%);
      border:2px solid rgba(61,194,255,.25);
      border-radius:18px;padding:14px;margin-top:12px
    }

    /* Footer */
    .site-footer{
      background:linear-gradient(90deg,var(--dark) 0%,#1a1c2e 100%);
      color:#fff;padding:45px 0 18px;margin-top:40px;border-radius:40px 40px 0 0;
    }
    .contact-info{background:rgba(255,255,255,.10);border-radius:18px;padding:16px;backdrop-filter:blur(10px)}

    /* Confetti */
    .confetti{position:fixed;width:10px;height:10px;top:-10px;z-index:9999;pointer-events:none}

    @media (max-width:768px){
      .answer-grid{grid-template-columns:1fr}
      .image-gallery{grid-template-columns:repeat(2,1fr)}
      .memory-grid{grid-template-columns:repeat(3,1fr)}
      .question-box{font-size:1.1rem}
    }
  </style>
</head>

<body>
  <!-- Top nav -->
  <div class="top-nav py-2">
    <div class="container">
      <div class="nav-scroll d-flex gap-2">
        <a class="nav-pill" href="#documents"><i class="fa-solid fa-file-lines"></i> Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª</a>
        <a class="nav-pill" href="#presentations"><i class="fa-solid fa-desktop"></i> Ø§Ù„Ø¹Ø±ÙˆØ¶</a>
        <a class="nav-pill" href="#worksheets"><i class="fa-solid fa-file-pdf"></i> Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù…Ù„</a>
        <a class="nav-pill" href="#games"><i class="fa-solid fa-gamepad"></i> Ø£Ù„Ø¹Ø§Ø¨</a>
        <a class="nav-pill" href="#images"><i class="fa-solid fa-images"></i> ØµÙˆØ±</a>
        <a class="nav-pill" href="#videos"><i class="fa-brands fa-youtube"></i> ÙÙŠØ¯ÙŠÙˆ</a>
        <a class="nav-pill" href="#links"><i class="fa-solid fa-link"></i> Ø±ÙˆØ§Ø¨Ø·</a>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="site-header">
    <div class="header-design" id="headerBubbles"></div>

    <div class="container">
      <div class="row align-items-center g-3">
        <div class="col-lg-8">
          <div class="teacher-card animate__animated animate__fadeInLeft">
            <h1 class="display-5 fw-black mb-2" style="color:var(--kid-purple)">
              <i class="fas fa-graduation-cap me-2"></i>Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©
            </h1>
            <p class="lead mb-3" style="color:var(--dark)">
              Ù…ÙˆÙ‚Ø¹ ØªØ¹Ù„ÙŠÙ…ÙŠ ØªÙØ§Ø¹Ù„ÙŠ Ø´Ø§Ù…Ù„ Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© (Ù…Ø³ØªÙ†Ø¯Ø§Øª + Ø¹Ø±ÙˆØ¶ + Ø£Ù„Ø¹Ø§Ø¨ + ÙÙŠØ¯ÙŠÙˆ + Ø±ÙˆØ§Ø¨Ø·)
            </p>
            <div class="d-flex align-items-center">
              <div class="me-3">
                <i class="fas fa-chalkboard-teacher fa-2x" style="color:var(--kid-pink)"></i>
              </div>
              <div>
                <h4 class="fw-bold mb-1" style="color:var(--dark)">Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ø³Ø¬Ù‰ Ø¯Ø±Ø§ÙˆØ´Ù‡</h4>
                <p class="mb-0 text-muted">
                  <i class="fas fa-envelope me-2"></i>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©: <strong>hisham.abdu@gmail.com</strong>
                </p>
                <div class="tiny mt-1">
                  âœ… Ù…Ù‡Ù…: Ø§Ù†Ø³Ø®ÙŠ Ø±ÙˆØ§Ø¨Ø· Google Docs/Slides Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ ÙˆØ§Ù„ØµÙ‚ÙŠÙ‡Ø§ Ù‡Ù†Ø§ (Ù…Ù…ÙƒÙ† ØªØ­ÙØ¸ÙŠÙ‡Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹).
                </div>
              </div>
            </div>

            <div class="mt-3 d-flex flex-wrap gap-2">
              <button class="edu-btn btn-add" id="openLinksManagerBtn">
                <i class="fa-solid fa-pen-to-square"></i> Ø¥Ø¯Ø§Ø±Ø© Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶
              </button>
              <button class="edu-btn btn-soft" id="resetBtn">
                <i class="fa-solid fa-rotate-left"></i> ØªØµÙÙŠØ± Ø§Ù„Ù†Ù‚Ø§Ø·/Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
              </button>
            </div>
          </div>
        </div>

        <div class="col-lg-4 text-center">
          <div class="score-box animate__animated animate__pulse animate__infinite">
            <h3 class="fw-bold mb-1"><i class="fas fa-trophy me-2"></i>Ø§Ù„Ù†Ù‚Ø§Ø·</h3>
            <div class="display-4 fw-black" id="totalScore">Ù </div>
            <div class="tiny">Ø§Ù†Ù‚Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯/Ø§Ù„Ø¹Ù†Ø§ØµØ± + Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†Ù‚Ø§Ø· ğŸ‰</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="main-container">
    <div class="container">

      <!-- Documents -->
      <section class="mb-4" id="documents">
        <h2 class="section-title fw-black display-6" style="color:var(--kid-blue)">
          <i class="fas fa-file-alt me-2"></i>Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© (Word/Docs)
        </h2>

        <div class="edu-card doc-card animate__animated animate__fadeInUp">
          <div class="card-header">
            <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
              <h3 class="mb-0"><i class="fa-solid fa-folder-open me-2"></i>Ù¤ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø£ØµÙ„ÙŠØ© (Ø±ÙˆØ§Ø¨Ø· Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ)</h3>
              <span class="badge text-bg-light text-dark">Ø§Ø¶ØºØ·ÙŠ "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·" Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµØ­ÙŠØ­Ø©</span>
            </div>
          </div>
          <div class="card-body">
            <div class="row g-3" id="docsList"></div>

            <div class="alert alert-warning mt-3 mb-0">
              <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:</strong>
              Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙŠ ØªØ¨Ø¯Ø£ Ø¨Ù€ docs.google.com Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ù…Ù† Ù…Ø³ØªÙ†Ø¯Ø§ØªÙƒ Ø£Ù†ØªÙ (Original) ÙˆÙ…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹
              <strong>hisham.abdu@gmail.com</strong> (View Ø£Ùˆ Edit).
            </div>
          </div>
        </div>
      </section>

      <!-- Presentations -->
      <section class="mb-4" id="presentations">
        <h2 class="section-title fw-black display-6" style="color:var(--kid-pink)">
          <i class="fas fa-desktop me-2"></i>Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠØ© (PowerPoint/Slides)
        </h2>

        <div class="edu-card presentation-card animate__animated animate__fadeInUp">
          <div class="card-header">
            <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
              <h3 class="mb-0"><i class="fa-solid fa-chalkboard me-2"></i>Ù¤ Ø¹Ø±ÙˆØ¶ Ø£ØµÙ„ÙŠØ©</h3>
              <span class="badge text-bg-light text-dark">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ù…Ù† Ø¯Ø§Ø®Ù„ Google Slides</span>
            </div>
          </div>
          <div class="card-body">
            <div class="row g-3" id="slidesList"></div>
          </div>
        </div>
      </section>

      <!-- Worksheets -->
      <section class="mb-4" id="worksheets">
        <h2 class="section-title fw-black display-6" style="color:var(--kid-blue)">
          <i class="fa-solid fa-file-pdf me-2"></i>Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù…Ù„ PDF Ø¬Ø§Ù‡Ø²Ø© (Ù…Ø­ØªÙˆÙ‰ Ø¥Ø¶Ø§ÙÙŠ Ù‚ÙˆÙŠ)
        </h2>

        <div class="edu-card links-card animate__animated animate__fadeInUp">
          <div class="card-header">
            <h3 class="mb-0"><i class="fa-solid fa-star me-2"></i>Ù…ØµØ§Ø¯Ø± Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù…Ù„ Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©</h3>
          </div>
          <div class="card-body">
            <div class="doc-item" data-points="4">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">K5Learning â€” Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù…Ù„ Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù…Ø¬Ø§Ù†ÙŠØ© (PDF)</div>
                  <div class="doc-meta">Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù…Ù„ + ØªÙ…Ø§Ø±ÙŠÙ† Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://www.k5learning.com/free-math-worksheets" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="doc-item" data-points="4">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">Math Center â€” Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ (Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù…Ù„ + Ø£Ù„Ø¹Ø§Ø¨ ØªÙØ§Ø¹Ù„ÙŠØ©)</div>
                  <div class="doc-meta">ØªÙ…Ø§Ø±ÙŠÙ† Ø±Ù‚Ù…ÙŠØ© + ØµÙØ­Ø§Øª Ø¹Ù…Ù„</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://math-center.org/ar-DZ/worksheets/1st/" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="doc-item" data-points="4">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">English Worksheets â€” Ù„Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„ÙˆØ±Ù‚</div>
                  <div class="doc-meta">Ù…ÙÙŠØ¯ Ù„Ù„ØªÙ„ÙˆÙŠÙ†/Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©/Ø§Ù„Ù‚Øµ ÙˆØ§Ù„Ù„ØµÙ‚</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://en.islcollective.com/" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="tiny mt-2">
              â­ Ù‡Ø°Ù‡ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· â€œØªØ´ØªØºÙ„â€ ÙˆØ¨ØªØ¹Ø·ÙŠÙƒ Ù…Ø­ØªÙˆÙ‰ Ø¥Ø¶Ø§ÙÙŠ Ù‚ÙˆÙŠ Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø­ØªÙ‰ Ù„Ùˆ Ù…Ø³ØªÙ†Ø¯Ø§ØªÙƒ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù…ÙˆØ¬ÙˆØ¯Ø© Ù„Ø­Ø§Ù„Ù‡Ø§).
            </div>
          </div>
        </div>
      </section>

      <!-- Games -->
      <section class="mb-4" id="games">
        <h2 class="section-title fw-black display-6" style="color:var(--kid-green)">
          <i class="fas fa-gamepad me-2"></i>Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© (Ø£ÙƒØ«Ø± + Ø£Ù‚ÙˆÙ‰)
        </h2>

        <div class="edu-card games-card animate__animated animate__fadeInUp">
          <div class="card-header">
            <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
              <h3 class="mb-0"><i class="fa-solid fa-brain me-2"></i>Ø§Ø®ØªØ§Ø±ÙŠ Ù„Ø¹Ø¨Ø© ğŸ®</h3>
              <span class="badge text-bg-light text-dark">3 Ø£Ù„Ø¹Ø§Ø¨ Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø©</span>
            </div>
          </div>

          <div class="card-body">
            <ul class="nav nav-pills mb-3" id="gamesTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="quiz-tab" data-bs-toggle="pill" data-bs-target="#quiz" type="button" role="tab">
                  <i class="fa-solid fa-circle-question me-1"></i> ÙƒÙˆÙŠØ² (10 Ø£Ø³Ø¦Ù„Ø©)
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="memory-tab" data-bs-toggle="pill" data-bs-target="#memory" type="button" role="tab">
                  <i class="fa-solid fa-clone me-1"></i> Ø°Ø§ÙƒØ±Ø©
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="speed-tab" data-bs-toggle="pill" data-bs-target="#speed" type="button" role="tab">
                  <i class="fa-solid fa-bolt me-1"></i> Ø­Ø³Ø§Ø¨ Ø³Ø±ÙŠØ¹ (ÙˆÙ‚Øª)
                </button>
              </li>
            </ul>

            <div class="tab-content">
              <!-- Quiz -->
              <div class="tab-pane fade show active" id="quiz" role="tabpanel">
                <div class="game-wrap">
                  <div class="text-center mb-2">
                    <h4 id="quizTitle" class="fw-black mb-2">Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙˆÙŠØ²</h4>
                    <div class="d-flex justify-content-center flex-wrap gap-2">
                      <span class="badge text-bg-dark">
                        <i class="fa-solid fa-star me-1"></i> Ù†Ù‚Ø§Ø· Ø§Ù„Ù„Ø¹Ø¨Ø©: <span id="gameScore">Ù </span>
                      </span>
                      <span class="badge text-bg-primary">
                        <i class="fa-solid fa-list-ol me-1"></i> Ø³Ø¤Ø§Ù„: <span id="questionNumber">Ù¡</span>/Ù¡Ù 
                      </span>
                    </div>
                  </div>

                  <div class="question-box" id="questionBox">Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ù„Ø¨Ø¯Ø¡ âœ¨</div>
                  <div class="answer-grid" id="answersGrid"></div>

                  <div class="d-flex justify-content-center flex-wrap gap-2 mt-2">
                    <button class="edu-btn btn-math" data-start-quiz="math"><i class="fa-solid fa-calculator"></i> Ø±ÙŠØ§Ø¶ÙŠØ§Øª</button>
                    <button class="edu-btn btn-science" data-start-quiz="science"><i class="fa-solid fa-flask"></i> Ø¹Ù„ÙˆÙ…</button>
                    <button class="edu-btn btn-arabic" data-start-quiz="arabic"><i class="fa-solid fa-book-open"></i> Ø¹Ø±Ø¨ÙŠØ©</button>
                    <button class="edu-btn btn-game" data-start-quiz="general"><i class="fa-solid fa-puzzle-piece"></i> Ø¹Ø§Ù…Ø©</button>
                  </div>

                  <div class="progress-container mt-3">
                    <div class="progress-barx" id="gameProgress" style="width:0%"></div>
                  </div>
                </div>
              </div>

              <!-- Memory -->
              <div class="tab-pane fade" id="memory" role="tabpanel">
                <div class="game-wrap">
                  <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
                    <div>
                      <div class="fw-black">Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø© ğŸ§ </div>
                      <div class="tiny">Ø§ÙØªØ­ÙŠ ÙƒØ±ØªÙŠÙ† Ù…ØªØ´Ø§Ø¨Ù‡ÙŠÙ†. ÙƒÙ„ ØªØ·Ø§Ø¨Ù‚ = +15 Ù†Ù‚Ø·Ø©</div>
                    </div>
                    <button class="edu-btn btn-add" id="memoryRestart"><i class="fa-solid fa-rotate"></i> Ø¥Ø¹Ø§Ø¯Ø©</button>
                  </div>

                  <div class="memory-grid" id="memoryGrid"></div>

                  <div class="mt-2">
                    <span class="badge text-bg-success">Ù…Ø·Ø§Ø¨Ù‚Ø§Øª: <span id="memoryMatches">Ù </span>/Ù¨</span>
                  </div>
                </div>
              </div>

              <!-- Speed Math -->
              <div class="tab-pane fade" id="speed" role="tabpanel">
                <div class="game-wrap">
                  <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
                    <div>
                      <div class="fw-black">Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø±ÙŠØ¹ âš¡</div>
                      <div class="tiny">Ø£Ø¬ÙŠØ¨ÙŠ Ø¨Ø³Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ù…Ø§ ÙŠØ®Ù„Øµ Ø§Ù„ÙˆÙ‚Øª! ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© = +10</div>
                    </div>
                    <button class="edu-btn btn-add" id="speedStart"><i class="fa-solid fa-play"></i> Ø¨Ø¯Ø¡</button>
                  </div>

                  <div class="speed-box">
                    <div class="d-flex justify-content-between flex-wrap gap-2">
                      <span class="badge text-bg-dark">Ø§Ù„ÙˆÙ‚Øª: <span id="speedTime">Ù </span> Ø«</span>
                      <span class="badge text-bg-primary">Ø§Ù„Ù†ØªÙŠØ¬Ø©: <span id="speedScore">Ù </span></span>
                    </div>

                    <div class="question-box mt-3" id="speedQuestion">Ø§Ø¶ØºØ·ÙŠ "Ø¨Ø¯Ø¡"</div>

                    <div class="input-group mt-2">
                      <input id="speedAnswer" type="number" class="form-control" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§" />
                      <button class="btn btn-primary" id="speedSubmit">Ø¥Ø±Ø³Ø§Ù„</button>
                    </div>

                    <div class="tiny mt-2" id="speedHint"></div>
                  </div>
                </div>
              </div>

            </div><!-- tab-content -->
          </div>
        </div>
      </section>

      <!-- Images -->
      <section class="mb-4" id="images">
        <h2 class="section-title fw-black display-6" style="color:var(--kid-orange)">
          <i class="fas fa-images me-2"></i>Ø§Ù„ØµÙˆØ± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©
        </h2>

        <div class="edu-card gallery-card animate__animated animate__fadeInUp">
          <div class="card-header">
            <h3 class="mb-0"><i class="fa-solid fa-camera-retro me-2"></i>Ù…Ø¹Ø±Ø¶ ØµÙˆØ±</h3>
          </div>
          <div class="card-body">
            <div class="image-gallery">
              <div class="edu-image" data-points="2">
                <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?auto=format&fit=crop&w=800&q=80" alt="Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù„Ù„Ø£Ø·ÙØ§Ù„">
                <div class="image-overlay"><small>Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù…Ù…ØªØ¹Ø©</small></div>
              </div>
              <div class="edu-image" data-points="2">
                <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=800&q=80" alt="ØªØ¬Ø§Ø±Ø¨ Ø¹Ù„Ù…ÙŠØ©">
                <div class="image-overlay"><small>ØªØ¬Ø§Ø±Ø¨ Ø¹Ù„Ù…ÙŠØ©</small></div>
              </div>
              <div class="edu-image" data-points="2">
                <img src="https://images.unsplash.com/photo-1577896851231-70ef18881754?auto=format&fit=crop&w=800&q=80" alt="Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø©">
                <div class="image-overlay"><small>Ù‚Ø±Ø§Ø¡Ø© ÙˆÙƒØªØ§Ø¨Ø©</small></div>
              </div>
              <div class="edu-image" data-points="2">
                <img src="https://images.unsplash.com/photo-1516627145497-ae695a6c9f35?auto=format&fit=crop&w=800&q=80" alt="Ø£Ù„Ø¹Ø§Ø¨ ØªØ¹Ù„ÙŠÙ…ÙŠØ©">
                <div class="image-overlay"><small>Ø£Ù„Ø¹Ø§Ø¨ ØªØ¹Ù„ÙŠÙ…ÙŠØ©</small></div>
              </div>
            </div>
            <div class="tiny mt-2">ğŸ‘† Ø£ÙŠ Ù†Ù‚Ø±Ø© Ø¹Ù„Ù‰ ØµÙˆØ±Ø© = Ù†Ù‚Ø§Ø· âœ¨</div>
          </div>
        </div>
      </section>

      <!-- Videos -->
      <section class="mb-4" id="videos">
        <h2 class="section-title fw-black display-6" style="color:var(--kid-purple)">
          <i class="fas fa-video me-2"></i>Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© (ÙŠÙˆØªÙŠÙˆØ¨)
        </h2>

        <div class="row g-3">
          <div class="col-md-6">
            <div class="edu-card video-card animate__animated animate__fadeInUp">
              <div class="card-header">
                <h3 class="mb-0"><i class="fa-brands fa-youtube me-2"></i>Ø±ÙŠØ§Ø¶ÙŠØ§Øª (Ø£ØºÙ†ÙŠØ© Ø§Ù„Ø¬Ù…Ø¹)</h3>
              </div>
              <div class="card-body">
                <div class="video-container">
                  <iframe src="https://www.youtube.com/embed/pk4GoC8XQ5E" title="Ø£ØºÙ†ÙŠØ© Ø§Ù„Ø¬Ù…Ø¹ Ù„Ù„Ø£Ø·ÙØ§Ù„" allowfullscreen></iframe>
                </div>
                <div class="tiny">ÙÙŠØ¯ÙŠÙˆ Ù…Ù…ØªØ¹ Ù„ØªØ¹Ù„Ù‘Ù… Ø§Ù„Ø¬Ù…Ø¹ ğŸµ</div>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="edu-card video-card animate__animated animate__fadeInUp">
              <div class="card-header">
                <h3 class="mb-0"><i class="fa-brands fa-youtube me-2"></i>Ø¹Ù„ÙˆÙ… (Ø¯ÙˆØ±Ø© Ø§Ù„Ù…Ø§Ø¡)</h3>
              </div>
              <div class="card-body">
                <div class="video-container">
                  <iframe src="https://www.youtube.com/embed/ctBO8Leo8WU" title="Ø¯ÙˆØ±Ø© Ø§Ù„Ù…Ø§Ø¡ Ù„Ù„Ø£Ø·ÙØ§Ù„" allowfullscreen></iframe>
                </div>
                <div class="tiny">Ø´Ø±Ø­ Ù…Ø¨Ø³Ù‘Ø· Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ù…Ø§Ø¡ ğŸ’§</div>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div class="edu-card video-card animate__animated animate__fadeInUp">
              <div class="card-header">
                <h3 class="mb-0"><i class="fa-brands fa-youtube me-2"></i>ÙØ¶Ø§Ø¡ (Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ)</h3>
              </div>
              <div class="card-body">
                <div class="video-container">
                  <iframe src="https://www.youtube.com/embed/XVYaz-D2MYE" title="Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ Ù„Ù„Ø£Ø·ÙØ§Ù„" allowfullscreen></iframe>
                </div>
                <div class="tiny">ÙƒÙˆØ§ÙƒØ¨ ÙˆÙ†Ø¬ÙˆÙ… Ù„Ù„Ø£Ø·ÙØ§Ù„ ğŸŒâœ¨</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Links -->
      <section class="mb-4" id="links">
        <h2 class="section-title fw-black display-6" style="color:var(--kid-blue)">
          <i class="fas fa-link me-2"></i>Ø±ÙˆØ§Ø¨Ø· ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ÙÙŠØ¯Ø© (ÙƒÙ„Ù‡Ø§ Ø´ØºÙ‘Ø§Ù„Ø©)
        </h2>

        <div class="edu-card links-card animate__animated animate__fadeInUp">
          <div class="card-header">
            <h3 class="mb-0"><i class="fa-solid fa-globe me-2"></i>Ù…ÙƒØªØ¨Ø© Ø±ÙˆØ§Ø¨Ø·</h3>
          </div>
          <div class="card-body">
            <div class="doc-item" data-points="3">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø®Ø§Ù† (Ø¹Ø±Ø¨ÙŠ)</div>
                  <div class="doc-meta">Ø¯Ø±ÙˆØ³ ÙˆØªÙ…Ø§Ø±ÙŠÙ† Ù…Ø¬Ø§Ù†ÙŠØ©</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://ar.khanacademy.org/" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="doc-item" data-points="3">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">PBS KIDS Games</div>
                  <div class="doc-meta">Ø£Ù„Ø¹Ø§Ø¨ ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙƒØ«ÙŠØ±Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://pbskids.org/games" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="doc-item" data-points="3">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">National Geographic Kids</div>
                  <div class="doc-meta">Ø¹Ù„ÙˆÙ… + Ø­ÙŠÙˆØ§Ù†Ø§Øª + ÙØ¶Ø§Ø¡</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://kids.nationalgeographic.com/" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="doc-item" data-points="3">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">3asafeer â€” Ø£Ù„Ø¹Ø§Ø¨ Ø¹Ø±Ø¨ÙŠØ© Ù„Ù„Ø£Ø·ÙØ§Ù„</div>
                  <div class="doc-meta">Ù„ØºØ© + Ù‚Ø±Ø§Ø¡Ø© + Ø£Ù„Ø¹Ø§Ø¨</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://3asafeer.com/en/games" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="doc-item" data-points="3">
              <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
                <div>
                  <div class="fw-black">CoolMath4Kids â€” Ø£Ù„Ø¹Ø§Ø¨ Ø±ÙŠØ§Ø¶ÙŠØ§Øª</div>
                  <div class="doc-meta">Ø£Ù„Ø¹Ø§Ø¨ ÙˆÙ…Ø³Ø§Ø¦Ù„</div>
                </div>
                <a class="edu-btn btn-view" target="_blank" href="https://www.coolmath4kids.com/" rel="noopener">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                </a>
              </div>
            </div>

            <div class="tiny mt-2">âœ… Ø£ÙŠ Ù†Ù‚Ø±Ø© Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± = Ù†Ù‚Ø§Ø· (Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±).</div>
          </div>
        </div>
      </section>

    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="row g-3">
        <div class="col-lg-4">
          <div class="contact-info">
            <h4 class="fw-black mb-2"><i class="fa-solid fa-info-circle me-2"></i>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h4>
            <div class="mb-1"><i class="fa-solid fa-user-graduate me-2"></i><strong>Ø§Ù„Ù…Ø¹Ù„Ù…Ø©:</strong> Ø³Ø¬Ù‰ Ø¯Ø±Ø§ÙˆØ´Ù‡</div>
            <div class="mb-1"><i class="fa-solid fa-envelope me-2"></i><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯:</strong> hisham.abdu@gmail.com</div>
            <div class="mb-0"><i class="fa-solid fa-calendar-day me-2"></i><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…:</strong> 14 ÙŠÙ†Ø§ÙŠØ±</div>
          </div>
        </div>

        <div class="col-lg-4">
          <h4 class="fw-black mb-2"><i class="fa-solid fa-check-circle me-2"></i>Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h4>
          <ul class="list-unstyled mb-0">
            <li class="mb-1"><i class="fa-solid fa-check text-success me-2"></i>Ù¤ Ù…Ø³ØªÙ†Ø¯Ø§Øª + Ù¤ Ø¹Ø±ÙˆØ¶ (Ø±ÙˆØ§Ø¨Ø· ØªÙØ¯Ø§Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹)</li>
            <li class="mb-1"><i class="fa-solid fa-check text-success me-2"></i>Ù£ Ø£Ù„Ø¹Ø§Ø¨ ØªÙØ§Ø¹Ù„ÙŠØ©</li>
            <li class="mb-1"><i class="fa-solid fa-check text-success me-2"></i>ØµÙˆØ± + ÙÙŠØ¯ÙŠÙˆ + Ø±ÙˆØ§Ø¨Ø· Ø¬Ø§Ù‡Ø²Ø©</li>
            <li class="mb-1"><i class="fa-solid fa-check text-success me-2"></i>Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· ÙˆØªØ­ÙÙŠØ² Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡</li>
          </ul>
        </div>

        <div class="col-lg-4">
          <h4 class="fw-black mb-2"><i class="fa-solid fa-graduation-cap me-2"></i>Ø¹Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h4>
          <p class="mb-2">Ù‡Ø°Ø§ Ù‚Ø§Ù„Ø¨ â€œØ¬Ø§Ù‡Ø² ÙˆÙ‚ÙˆÙŠâ€ â€” ÙÙ‚Ø· Ø£Ø¶ÙŠÙÙŠ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª/Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ.</p>
          <button class="edu-btn btn-add" id="showAllFeaturesBtn">
            <i class="fa-solid fa-list"></i> Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª
          </button>
        </div>
      </div>

      <hr class="bg-light mt-4">

      <div class="text-center">
        <div class="tiny">ğŸŒˆ ØµÙÙ…Ù… Ø¨Ø­Ø¨ Ù„Ù„Ø£Ø·ÙØ§Ù„ â€” Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø³Ø¬Ù‰ Ø¯Ø±Ø§ÙˆØ´Ù‡</div>
      </div>
    </div>
  </footer>

  <!-- Links Manager Modal -->
  <div class="modal fade" id="linksModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content" dir="rtl">
        <div class="modal-header">
          <h5 class="modal-title fw-black"><i class="fa-solid fa-pen-to-square me-2"></i>Ø¥Ø¯Ø§Ø±Ø© Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶</h5>
          <button type="button" class="btn-close ms-0" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <div class="alert alert-info">
            âœ¨ Ø§Ù„ØµÙ‚ÙŠ Ù‡Ù†Ø§ Ø±ÙˆØ§Ø¨Ø· Google Docs / Google Slides Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ.
            Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸ØŒ Ø³ØªØ¸Ù‡Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„ØµÙØ­Ø©.
          </div>

          <div class="row g-3">
            <div class="col-md-6">
              <h6 class="fw-black">Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª (Ù¤)</h6>
              <div id="docsInputs"></div>
              <button class="edu-btn btn-soft w-100 mt-2" id="fillDocsDemo">
                <i class="fa-solid fa-wand-magic-sparkles"></i> ØªØ¹Ø¨Ø¦Ø© Ø£Ù…Ø«Ù„Ø© (Ù„Ù„ØªØ¬Ø±Ø¨Ø©)
              </button>
            </div>

            <div class="col-md-6">
              <h6 class="fw-black">Ø§Ù„Ø¹Ø±ÙˆØ¶ (Ù¤)</h6>
              <div id="slidesInputs"></div>
              <button class="edu-btn btn-soft w-100 mt-2" id="fillSlidesDemo">
                <i class="fa-solid fa-wand-magic-sparkles"></i> ØªØ¹Ø¨Ø¦Ø© Ø£Ù…Ø«Ù„Ø© (Ù„Ù„ØªØ¬Ø±Ø¨Ø©)
              </button>
            </div>
          </div>

          <hr>

          <div class="row g-3">
            <div class="col-md-6">
              <h6 class="fw-black">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h6>
              <ul class="mb-0">
                <li>Ù„Ø§Ø²Ù… Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ ØªÙƒÙˆÙ† <strong>Ø£ØµÙ„ÙŠØ©</strong> Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ.</li>
                <li>Ù„Ø§Ø²Ù… ØªØ¹Ù…Ù„ÙŠ <strong>Share</strong> Ù…Ø¹ <strong>hisham.abdu@gmail.com</strong> (View Ø£Ùˆ Edit).</li>
                <li>Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸ØŒ Ø§ÙØªØ­ÙŠ Ø§Ù„ØµÙØ­Ø© Ù…Ù† Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ø¶ØºØ·ÙŠ â€œØªØ­Ø¯ÙŠØ«â€.</li>
              </ul>
            </div>
            <div class="col-md-6">
              <div class="d-flex gap-2 flex-wrap">
                <button class="edu-btn btn-add" id="saveLinksBtn">
                  <i class="fa-solid fa-floppy-disk"></i> Ø­ÙØ¸ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
                </button>
                <button class="edu-btn btn-soft" id="clearLinksBtn">
                  <i class="fa-solid fa-trash"></i> Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
                </button>
                <button class="edu-btn btn-view" id="refreshListsBtn">
                  <i class="fa-solid fa-rotate"></i> ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
                </button>
              </div>
              <div class="tiny mt-2">âœ… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ØªÙØ­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØªØµÙØ­ (LocalStorage).</div>
            </div>
          </div>

        </div><!-- modal-body -->
      </div>
    </div>
  </div>

  <!-- Bootstrap JS (must be before our scripts that use modal/tabs) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // =========================
    // Alertify config
    // =========================
    alertify.defaults.transition = "slide";
    alertify.defaults.glossary.title = "Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©";
    // Bootstrap-ish buttons:
    alertify.defaults.theme.ok = "btn btn-primary";
    alertify.defaults.theme.cancel = "btn btn-secondary";

    // =========================
    // Helpers: Arabic digits
    // =========================
    const AR_DIGITS = ['Ù ','Ù¡','Ù¢','Ù£','Ù¤','Ù¥','Ù¦','Ù§','Ù¨','Ù©'];
    const toArabicNumber = (n) => String(n).replace(/\d/g, d => AR_DIGITS[Number(d)]);
    const clamp = (x, a, b) => Math.min(b, Math.max(a, x));

    // =========================
    // Score + storage keys
    // =========================
    const LS = {
      score: "kidsEdu_score_v1",
      links: "kidsEdu_links_v1"
    };

    let totalScore = 0;

    function loadScore() {
      const raw = localStorage.getItem(LS.score);
      totalScore = raw ? Number(raw) || 0 : 0;
      renderTotalScore();
    }

    function saveScore() {
      localStorage.setItem(LS.score, String(totalScore));
    }

    function renderTotalScore() {
      const el = document.getElementById("totalScore");
      if (el) el.textContent = toArabicNumber(totalScore);
    }

    function addPoints(points) {
      totalScore += Number(points) || 0;
      saveScore();
      renderTotalScore();
      createConfetti(70);
      playSuccessSound();
    }

    // =========================
    // Confetti
    // =========================
    function createConfetti(count = 80) {
      const colors = ['#FF85A2', '#3DC2FF', '#FFD166', '#06D6A0', '#9D4EDD', '#FF9E6D'];
      for (let i = 0; i < count; i++) {
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = Math.random() * 100 + 'vw';
        c.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        c.style.transform = `rotate(${Math.random() * 360}deg)`;
        document.body.appendChild(c);

        const duration = Math.random() * 2200 + 1600;
        const drift = (Math.random() - 0.5) * 120;

        const anim = c.animate([
          { top: '-10px', transform: `translateX(0px) rotate(0deg)` },
          { top: '100vh', transform: `translateX(${drift}px) rotate(${Math.random() * 720}deg)` }
        ], { duration, easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)' });

        anim.onfinish = () => c.remove();
      }
    }

    // =========================
    // Sounds (safe + short)
    // =========================
    function beep(freq = 600, type = 'sine', time = 0.12, gain = 0.12) {
      try {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const osc = ctx.createOscillator();
        const g = ctx.createGain();
        osc.connect(g); g.connect(ctx.destination);
        osc.frequency.value = freq;
        osc.type = type;
        g.gain.setValueAtTime(gain, ctx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + time);
        osc.start(ctx.currentTime);
        osc.stop(ctx.currentTime + time);
      } catch {}
    }
    function playSuccessSound(){ beep(820,'triangle',0.12,0.10); }
    function playWrongSound(){ beep(260,'sawtooth',0.10,0.09); }
    function playWelcomeSound(){ beep(640,'sine',0.12,0.10); }

    // =========================
    // Header bubbles
    // =========================
    function createBubbles() {
      const container = document.getElementById('headerBubbles');
      if (!container) return;
      container.innerHTML = "";
      for (let i = 0; i < 18; i++) {
        const b = document.createElement('div');
        b.className = 'bubble';
        const size = Math.random() * 90 + 40;
        b.style.width = size + 'px';
        b.style.height = size + 'px';
        b.style.left = Math.random() * 100 + '%';
        b.style.top = Math.random() * 100 + '%';
        b.style.animationDelay = Math.random() * 5 + 's';
        b.style.animationDuration = (Math.random() * 10 + 10) + 's';
        container.appendChild(b);
      }
    }

    // =========================
    // Links Manager (Docs/Slides)
    // =========================
    const defaultLinksModel = () => ({
      docs: [
        { title: "Ù…Ø³ØªÙ†Ø¯ Ù¡ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
        { title: "Ù…Ø³ØªÙ†Ø¯ Ù¢ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
        { title: "Ù…Ø³ØªÙ†Ø¯ Ù£ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
        { title: "Ù…Ø³ØªÙ†Ø¯ Ù¤ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
      ],
      slides: [
        { title: "Ø¹Ø±Ø¶ Ù¡ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
        { title: "Ø¹Ø±Ø¶ Ù¢ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
        { title: "Ø¹Ø±Ø¶ Ù£ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
        { title: "Ø¹Ø±Ø¶ Ù¤ (Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)", url: "" },
      ]
    });

    function loadLinksModel() {
      const raw = localStorage.getItem(LS.links);
      if (!raw) return defaultLinksModel();
      try {
        const obj = JSON.parse(raw);
        const model = defaultLinksModel();

        if (Array.isArray(obj?.docs)) {
          obj.docs.slice(0,4).forEach((x,i) => {
            model.docs[i] = { title: (x?.title || model.docs[i].title), url: (x?.url || "") };
          });
        }
        if (Array.isArray(obj?.slides)) {
          obj.slides.slice(0,4).forEach((x,i) => {
            model.slides[i] = { title: (x?.title || model.slides[i].title), url: (x?.url || "") };
          });
        }
        return model;
      } catch {
        return defaultLinksModel();
      }
    }

    function saveLinksModel(model) {
      localStorage.setItem(LS.links, JSON.stringify(model));
    }

    function isValidUrl(u) {
      try { new URL(u); return true; } catch { return false; }
    }

    function renderLinksLists() {
      const model = loadLinksModel();
      renderDocsList(model);
      renderSlidesList(model);
    }

    function renderDocsList(model) {
      const container = document.getElementById("docsList");
      if (!container) return;
      container.innerHTML = "";

      model.docs.forEach((d, idx) => {
        const col = document.createElement("div");
        col.className = "col-md-6";

        const urlOk = d.url && isValidUrl(d.url);
        col.innerHTML = `
          <div class="doc-item" data-points="5">
            <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
              <div>
                <div class="fw-black"><i class="fa-solid fa-file-word me-1"></i> ${escapeHtml(d.title || ("Ù…Ø³ØªÙ†Ø¯ " + (idx+1)))}</div>
                <div class="doc-meta">Ù…Ø³ØªÙ†Ø¯ Google Docs / Word â€” Ù…Ø·Ù„ÙˆØ¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ØµÙ„ÙŠ</div>
                ${urlOk ? `<div class="tiny text-success mt-1"><i class="fa-solid fa-check"></i> Ø§Ù„Ø±Ø§Ø¨Ø· Ø¬Ø§Ù‡Ø²</div>`
                        : `<div class="tiny text-danger mt-1"><i class="fa-solid fa-triangle-exclamation"></i> Ø£Ø¶ÙŠÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ù† â€œØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·â€</div>`}
              </div>
              ${urlOk ? `<a class="edu-btn btn-view" target="_blank" rel="noopener" href="${escapeAttr(d.url)}">
                          <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                        </a>`
                      : `<button class="edu-btn btn-soft" type="button" data-open-manager>
                          <i class="fa-solid fa-pen-to-square"></i> Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø·
                        </button>`}
            </div>
          </div>
        `;
        container.appendChild(col);
      });
    }

    function renderSlidesList(model) {
      const container = document.getElementById("slidesList");
      if (!container) return;
      container.innerHTML = "";

      model.slides.forEach((s, idx) => {
        const col = document.createElement("div");
        col.className = "col-md-6";

        const urlOk = s.url && isValidUrl(s.url);
        col.innerHTML = `
          <div class="doc-item" data-points="5">
            <div class="d-flex justify-content-between align-items-start gap-2 flex-wrap">
              <div>
                <div class="fw-black"><i class="fa-solid fa-file-powerpoint me-1"></i> ${escapeHtml(s.title || ("Ø¹Ø±Ø¶ " + (idx+1)))}</div>
                <div class="doc-meta">Ø¹Ø±Ø¶ Google Slides / PowerPoint â€” Ù…Ø·Ù„ÙˆØ¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ØµÙ„ÙŠ</div>
                ${urlOk ? `<div class="tiny text-success mt-1"><i class="fa-solid fa-check"></i> Ø§Ù„Ø±Ø§Ø¨Ø· Ø¬Ø§Ù‡Ø²</div>`
                        : `<div class="tiny text-danger mt-1"><i class="fa-solid fa-triangle-exclamation"></i> Ø£Ø¶ÙŠÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ù† â€œØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·â€</div>`}
              </div>
              ${urlOk ? `<a class="edu-btn btn-view" target="_blank" rel="noopener" href="${escapeAttr(s.url)}">
                          <i class="fa-solid fa-arrow-up-right-from-square"></i> ÙØªØ­
                        </a>`
                      : `<button class="edu-btn btn-soft" type="button" data-open-manager>
                          <i class="fa-solid fa-pen-to-square"></i> Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø·
                        </button>`}
            </div>
          </div>
        `;
        container.appendChild(col);
      });
    }

    function renderLinksInputs() {
      const model = loadLinksModel();

      const docsInputs = document.getElementById("docsInputs");
      const slidesInputs = document.getElementById("slidesInputs");
      if (!docsInputs || !slidesInputs) return;

      docsInputs.innerHTML = "";
      slidesInputs.innerHTML = "";

      model.docs.forEach((d, i) => {
        docsInputs.appendChild(makeLinkInputRow("doc", i, d.title, d.url));
      });
      model.slides.forEach((s, i) => {
        slidesInputs.appendChild(makeLinkInputRow("slide", i, s.title, s.url));
      });
    }

    function makeLinkInputRow(type, idx, title, url) {
      const wrap = document.createElement("div");
      wrap.className = "mb-2";
      wrap.innerHTML = `
        <div class="input-group">
          <span class="input-group-text">${type === "doc" ? "Ù…Ø³ØªÙ†Ø¯" : "Ø¹Ø±Ø¶"} ${toArabicNumber(idx+1)}</span>
          <input class="form-control" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" data-link-title="${type}:${idx}" value="${escapeAttr(title || "")}">
          <input class="form-control" placeholder="Ø§Ù„Ø±Ø§Ø¨Ø· (URL)" data-link-url="${type}:${idx}" value="${escapeAttr(url || "")}">
        </div>
      `;
      return wrap;
    }

    function collectInputsToModel() {
      const model = defaultLinksModel();

      document.querySelectorAll("[data-link-title]").forEach(inp => {
        const [type, idx] = inp.getAttribute("data-link-title").split(":");
        const i = Number(idx);
        if (type === "doc") model.docs[i].title = inp.value.trim() || model.docs[i].title;
        if (type === "slide") model.slides[i].title = inp.value.trim() || model.slides[i].title;
      });

      document.querySelectorAll("[data-link-url]").forEach(inp => {
        const [type, idx] = inp.getAttribute("data-link-url").split(":");
        const i = Number(idx);
        const v = inp.value.trim();
        if (type === "doc") model.docs[i].url = v;
        if (type === "slide") model.slides[i].url = v;
      });

      return model;
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }
    function escapeAttr(str){ return escapeHtml(str); }

    // =========================
    // Quiz game (10 questions)
    // =========================
    let gameScore = 0;
    let currentQuestion = 0;
    let quizQuestions = [];

    const baseQuestions = {
      math: [
        { q: "Ù¥ + Ù£ = ØŸ", a: ["Ù§","Ù¨","Ù©","Ù¦"], c: 1 },
        { q: "Ù¡Ù  - Ù¤ = ØŸ", a: ["Ù¥","Ù¦","Ù§","Ù¨"], c: 1 },
        { q: "Ù¢ Ã— Ù£ = ØŸ", a: ["Ù¤","Ù¥","Ù¦","Ù§"], c: 2 },
        { q: "Ù¨ Ã· Ù¢ = ØŸ", a: ["Ù¢","Ù£","Ù¤","Ù¥"], c: 2 },
        { q: "Ù…Ø§ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø°ÙŠ Ù„Ù‡ Ù£ Ø£Ø¶Ù„Ø§Ø¹ØŸ", a: ["Ù…Ø±Ø¨Ø¹","Ù…Ø³ØªØ·ÙŠÙ„","Ù…Ø«Ù„Ø«","Ø¯Ø§Ø¦Ø±Ø©"], c: 2 },
      ],
      science: [
        { q: "Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù†Ø¨Ø§Øª ÙŠÙ…ØªØµ Ø§Ù„Ù…Ø§Ø¡ØŸ", a: ["Ø§Ù„Ø¬Ø°ÙˆØ±","Ø§Ù„Ø£ÙˆØ±Ø§Ù‚","Ø§Ù„Ø²Ù‡Ø±Ø©","Ø§Ù„Ø«Ù…Ø±Ø©"], c: 0 },
        { q: "Ø£ÙŠ Ø­ÙŠÙˆØ§Ù† ÙŠØ¹ÙŠØ´ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡ØŸ", a: ["Ø£Ø³Ø¯","Ù†Ù…Ø±","Ø³Ù…ÙƒØ©","ÙÙŠÙ„"], c: 2 },
        { q: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØ­ØªØ§Ø¬Ù‡ Ø§Ù„Ù†Ø§Ø± Ù„ØªØ´ØªØ¹Ù„ØŸ", a: ["Ù…Ø§Ø¡","Ù‡ÙˆØ§Ø¡","Ø«Ù„Ø¬","Ø¸Ù„Ø§Ù…"], c: 1 },
        { q: "Ø£ÙŠÙ† ÙŠØ¹ÙŠØ´ Ø§Ù„Ø¯Ø¨ Ø§Ù„Ù‚Ø·Ø¨ÙŠØŸ", a: ["Ø§Ù„ØµØ­Ø±Ø§Ø¡","Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ","Ø§Ù„ØºØ§Ø¨Ø©","Ø§Ù„Ù…Ø²Ø±Ø¹Ø©"], c: 1 },
        { q: "Ù…Ø§ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ù‚Ø±Ø¨ Ù„Ù„Ø´Ù…Ø³ØŸ", a: ["Ø§Ù„Ø£Ø±Ø¶","Ø¹Ø·Ø§Ø±Ø¯","Ø§Ù„Ù…Ø±ÙŠØ®","Ø²Ø­Ù„"], c: 1 },
      ],
      arabic: [
        { q: "Ù…Ø§ Ø£ÙˆÙ„ Ø­Ø±Ù ÙÙŠ ÙƒÙ„Ù…Ø© (Ù…Ø¯Ø±Ø³Ø©)ØŸ", a: ["Ù…","Ø¯","Ø±","Ø³"], c: 0 },
        { q: "Ù…Ø§ Ø¬Ù…Ø¹ (ÙƒØªØ§Ø¨)ØŸ", a: ["ÙƒØªØ¨","ÙƒÙØªÙŠØ¨","Ù…ÙƒØªØ¨","ÙƒØ§ØªØ¨"], c: 0 },
        { q: "Ù…Ø§ Ø¹ÙƒØ³ (ÙƒØ¨ÙŠØ±)ØŸ", a: ["Ø·ÙˆÙŠÙ„","ØµØºÙŠØ±","Ø¹Ø±ÙŠØ¶","Ø«Ù‚ÙŠÙ„"], c: 1 },
        { q: "ÙƒÙ… Ø­Ø±Ù ÙÙŠ ÙƒÙ„Ù…Ø© (ØªÙØ§Ø­Ø©)ØŸ", a: ["Ù¤","Ù¥","Ù¦","Ù§"], c: 1 },
        { q: "ÙƒÙ„Ù…Ø© (Ø´Ù…Ø³) Ù‡ÙŠâ€¦", a: ["Ù…Ø°ÙƒØ±","Ù…Ø¤Ù†Ø«","Ø¬Ù…Ø¹","ÙØ¹Ù„"], c: 1 },
      ],
      general: [
        { q: "ÙƒÙ… ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ", a: ["Ù¥","Ù¦","Ù§","Ù¨"], c: 2 },
        { q: "Ù…Ø§ Ù„ÙˆÙ† Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ù†Ø§Ø¶Ø¬Ø© ØºØ§Ù„Ø¨Ù‹Ø§ØŸ", a: ["Ø£Ø²Ø±Ù‚","Ø£Ø®Ø¶Ø±","Ø£Ø­Ù…Ø±","Ø£Ø³ÙˆØ¯"], c: 2 },
        { q: "Ù…Ø§ Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ", a: ["Ø§Ù„Ø£Ø±Ø¶","Ø§Ù„Ù…Ø´ØªØ±ÙŠ","Ø§Ù„Ù…Ø±ÙŠØ®","Ø§Ù„Ø²Ù‡Ø±Ø©"], c: 1 },
        { q: "Ø£ÙŠ Ù…Ù…Ø§ ÙŠÙ„ÙŠ Ø·Ø§Ø¦Ø±ØŸ", a: ["Ø³Ù…ÙƒØ©","Ù‚Ø·Ø©","Ø¹ØµÙÙˆØ±","Ø³Ù„Ø­ÙØ§Ø©"], c: 2 },
        { q: "Ø§Ù„Ù…Ø§Ø¡ ÙŠØªØ¬Ù…Ø¯ Ø¹Ù†Ø¯â€¦", a: ["Ù Â°","Ù¡Ù Â°","Ù¥Ù Â°","Ù¡Ù Ù Â°"], c: 0 },
      ]
    };

    function makeExtraMath(n=5){
      const arr = [];
      for(let i=0;i<n;i++){
        const x = Math.floor(Math.random()*9)+1;
        const y = Math.floor(Math.random()*9)+1;
        const correct = x+y;
        const options = new Set([correct]);
        while(options.size<4){
          options.add(correct + (Math.floor(Math.random()*5)-2));
        }
        const opts = Array.from(options).map(v => toArabicNumber(clamp(v,0,99)));
        // shuffle
        for(let j=opts.length-1;j>0;j--){
          const k = Math.floor(Math.random()*(j+1));
          [opts[j],opts[k]]=[opts[k],opts[j]];
        }
        const c = opts.indexOf(toArabicNumber(correct));
        arr.push({ q: `${toArabicNumber(x)} + ${toArabicNumber(y)} = ØŸ`, a: opts, c });
      }
      return arr;
    }

    function startQuiz(type){
      gameScore = 0;
      currentQuestion = 0;

      const pack = [...baseQuestions[type]];
      if(type==="math") pack.push(...makeExtraMath(6));

      // pick 10 questions (shuffle then slice)
      shuffle(pack);
      quizQuestions = pack.slice(0,10);

      document.getElementById("quizTitle").textContent = `Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙˆÙŠØ² â€” ${quizLabel(type)}`;
      renderQuizScore();
      showQuizQuestion();
    }

    function quizLabel(type){
      return ({math:"Ø±ÙŠØ§Ø¶ÙŠØ§Øª",science:"Ø¹Ù„ÙˆÙ…",arabic:"Ø¹Ø±Ø¨ÙŠØ©",general:"Ø¹Ø§Ù…Ø©"})[type] || "ÙƒÙˆÙŠØ²";
    }

    function renderQuizScore(){
      document.getElementById("gameScore").textContent = toArabicNumber(gameScore);
      document.getElementById("questionNumber").textContent = toArabicNumber(currentQuestion+1);
    }

    function showQuizQuestion(){
      const box = document.getElementById("questionBox");
      const grid = document.getElementById("answersGrid");
      const prog = document.getElementById("gameProgress");

      if(currentQuestion >= quizQuestions.length){
        box.innerHTML = `ğŸ‰ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙƒÙˆÙŠØ²!<br>Ù†Ù‚Ø§Ø·Ùƒ: <strong>${toArabicNumber(gameScore)}</strong><br><span class="tiny">Ø§Ø®ØªØ§Ø±ÙŠ Ù†ÙˆØ¹Ù‹Ø§ Ø¢Ø®Ø± Ù„Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯</span>`;
        grid.innerHTML = "";
        prog.style.width = "100%";
        createConfetti(120);
        return;
      }

      const q = quizQuestions[currentQuestion];
      box.textContent = q.q;

      renderQuizScore();
      prog.style.width = `${((currentQuestion+1)/quizQuestions.length)*100}%`;

      grid.innerHTML = "";
      q.a.forEach((txt, idx) => {
        const el = document.createElement("div");
        el.className = "answer-option";
        el.textContent = txt;
        el.addEventListener("click", () => checkQuizAnswer(el, idx, q.c));
        grid.appendChild(el);
      });
    }

    function checkQuizAnswer(clickedEl, selected, correct){
      const all = Array.from(document.querySelectorAll("#answersGrid .answer-option"));
      all.forEach(x => x.style.pointerEvents="none");

      if(selected === correct){
        clickedEl.classList.add("correct");
        gameScore += 10;
        addPoints(10); // adds to totalScore too
        renderQuizScore();
        setTimeout(() => {
          currentQuestion++;
          showQuizQuestion();
        }, 700);
      } else {
        clickedEl.classList.add("wrong");
        playWrongSound();
        setTimeout(() => {
          all[correct]?.classList.add("correct");
        }, 300);
        setTimeout(() => {
          currentQuestion++;
          showQuizQuestion();
        }, 900);
      }
    }

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
    }

    // =========================
    // Memory game
    // =========================
    const memoryIcons = ["ğŸ","ğŸ","ğŸš€","ğŸš€","âš½","âš½","ğŸŒ™","ğŸŒ™","ğŸŸ","ğŸŸ","ğŸ“š","ğŸ“š","ğŸ¨","ğŸ¨","ğŸ§©","ğŸ§©"];
    let memState = {
      first: null,
      lock: false,
      matched: 0
    };

    function startMemory(){
      memState = { first:null, lock:false, matched:0 };
      document.getElementById("memoryMatches").textContent = toArabicNumber(0);

      const grid = document.getElementById("memoryGrid");
      grid.innerHTML = "";

      const deck = [...memoryIcons];
      shuffle(deck);

      deck.forEach((icon, idx) => {
        const card = document.createElement("div");
        card.className = "memory-card";
        card.dataset.icon = icon;
        card.dataset.idx = String(idx);
        card.textContent = "ØŸ";
        card.addEventListener("click", () => flipMemory(card));
        grid.appendChild(card);
      });
    }

    function flipMemory(card){
      if(memState.lock) return;
      if(card.classList.contains("matched") || card.classList.contains("revealed")) return;

      card.classList.add("revealed");
      card.textContent = card.dataset.icon;

      if(!memState.first){
        memState.first = card;
        return;
      }

      // second pick
      memState.lock = true;
      const first = memState.first;
      const second = card;

      if(first.dataset.icon === second.dataset.icon){
        setTimeout(() => {
          first.classList.remove("revealed");
          second.classList.remove("revealed");
          first.classList.add("matched");
          second.classList.add("matched");
          memState.first = null;
          memState.lock = false;

          memState.matched++;
          document.getElementById("memoryMatches").textContent = toArabicNumber(memState.matched);

          addPoints(15);
          createConfetti(60);

          if(memState.matched >= 8){
            alertify.success("ğŸ‰ Ù…Ù…ØªØ§Ø²! Ø£Ù†Ù‡ÙŠØªÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©!");
            createConfetti(180);
          }
        }, 350);
      } else {
        setTimeout(() => {
          first.classList.remove("revealed");
          second.classList.remove("revealed");
          first.textContent = "ØŸ";
          second.textContent = "ØŸ";
          memState.first = null;
          memState.lock = false;
        }, 650);
      }
    }

    // =========================
    // Speed math
    // =========================
    let speed = {
      running:false,
      time:0,
      score:0,
      timer:null,
      current:{x:0,y:0,op:"+",ans:0}
    };

    function startSpeed(){
      if(speed.running) return;
      speed.running = true;
      speed.time = 30;
      speed.score = 0;
      document.getElementById("speedScore").textContent = toArabicNumber(speed.score);
      document.getElementById("speedTime").textContent = toArabicNumber(speed.time);
      document.getElementById("speedHint").textContent = "Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„Ø¢Ù†!";

      nextSpeedQuestion();
      document.getElementById("speedAnswer").value = "";
      document.getElementById("speedAnswer").focus();

      speed.timer = setInterval(() => {
        speed.time--;
        document.getElementById("speedTime").textContent = toArabicNumber(speed.time);
        if(speed.time <= 0){
          stopSpeed();
        }
      }, 1000);
    }

    function stopSpeed(){
      speed.running = false;
      clearInterval(speed.timer);
      speed.timer = null;

      document.getElementById("speedQuestion").innerHTML = `â±ï¸ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!<br>Ù†ØªÙŠØ¬ØªÙƒ: <strong>${toArabicNumber(speed.score)}</strong>`;
      document.getElementById("speedHint").textContent = "Ø§Ø¶ØºØ·ÙŠ Ø¨Ø¯Ø¡ Ù„Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
      createConfetti(120);
    }

    function nextSpeedQuestion(){
      const x = Math.floor(Math.random()*12)+1;
      const y = Math.floor(Math.random()*12)+1;
      const ops = ["+","-","Ã—"];
      const op = ops[Math.floor(Math.random()*ops.length)];
      let ans = 0;
      if(op === "+") ans = x+y;
      if(op === "-") ans = x-y;
      if(op === "Ã—") ans = x*y;

      speed.current = {x,y,op,ans};
      document.getElementById("speedQuestion").textContent =
        `${toArabicNumber(x)} ${op} ${toArabicNumber(y)} = ØŸ`;
    }

    function submitSpeed(){
      if(!speed.running) return;

      const input = document.getElementById("speedAnswer");
      const v = Number(input.value);
      input.value = "";

      if(v === speed.current.ans){
        speed.score += 10;
        document.getElementById("speedScore").textContent = toArabicNumber(speed.score);
        addPoints(10);
        document.getElementById("speedHint").textContent = "âœ… ØµØ­!";
        playSuccessSound();
        nextSpeedQuestion();
      } else {
        document.getElementById("speedHint").textContent = `âŒ Ø®Ø·Ø£ â€” Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙƒØ§Ù†Øª: ${toArabicNumber(speed.current.ans)}`;
        playWrongSound();
        nextSpeedQuestion();
      }
    }

    // =========================
    // Show all features
    // =========================
    function showAllFeatures(){
      const html = `
        <div class="alert alert-info mb-0">
          <h6 class="fw-bold mb-2">ğŸ“‹ Ø¬Ù…ÙŠØ¹ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…ØªÙˆÙØ±Ø©:</h6>
          <ol class="mb-0">
            <li>âœ… Ù¤ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø£ØµÙ„ÙŠØ© (Ø±ÙˆØ§Ø¨Ø· ØªÙØ¯Ø§Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹)</li>
            <li>âœ… Ù¤ Ø¹Ø±ÙˆØ¶ Ø£ØµÙ„ÙŠØ© (Ø±ÙˆØ§Ø¨Ø· ØªÙØ¯Ø§Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹)</li>
            <li>âœ… Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù…Ù„ PDF Ø¬Ø§Ù‡Ø²Ø© (Ù…Ø­ØªÙˆÙ‰ Ø¥Ø¶Ø§ÙÙŠ)</li>
            <li>âœ… Ù£ Ø£Ù„Ø¹Ø§Ø¨ ØªÙØ§Ø¹Ù„ÙŠØ© (ÙƒÙˆÙŠØ² + Ø°Ø§ÙƒØ±Ø© + Ø­Ø³Ø§Ø¨ Ø³Ø±ÙŠØ¹)</li>
            <li>âœ… ØµÙˆØ± ØªØ¹Ù„ÙŠÙ…ÙŠØ© + ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª + Ø±ÙˆØ§Ø¨Ø· Ø´ØºØ§Ù„Ø©</li>
            <li>âœ… Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· ÙˆØªØ­ÙÙŠØ² Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±</li>
          </ol>
        </div>
      `;
      alertify.alert("Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹", html);
    }

    // =========================
    // Click points (NO duplicates)
    // - only elements with data-points will give points
    // - don't add points when clicking inside modal
    // =========================
    function setupPointsClicking(){
      document.addEventListener("click", (e) => {
        // ignore clicks inside modal
        if(e.target.closest(".modal")) return;

        const el = e.target.closest("[data-points]");
        if(!el) return;

        const points = Number(el.getAttribute("data-points") || "0");
        if(points > 0) addPoints(points);
      });
    }

    // =========================
    // Wire UI
    // =========================
    document.addEventListener("DOMContentLoaded", () => {
      loadScore();
      createBubbles();
      playWelcomeSound();
      setupPointsClicking();
      renderLinksLists();

      // Bootstrap modal instance
      const linksModalEl = document.getElementById("linksModal");
      const linksModal = new bootstrap.Modal(linksModalEl);

      // open manager
      document.getElementById("openLinksManagerBtn")?.addEventListener("click", () => {
        renderLinksInputs();
        linksModal.show();
      });

      // any "add link" button in lists
      document.addEventListener("click", (e) => {
        const btn = e.target.closest("[data-open-manager]");
        if(!btn) return;
        renderLinksInputs();
        linksModal.show();
      });

      // save links
      document.getElementById("saveLinksBtn")?.addEventListener("click", () => {
        const model = collectInputsToModel();

        // light validation: warn if url not google docs/slides (allowed but warn)
        const allUrls = [...model.docs.map(x=>x.url), ...model.slides.map(x=>x.url)].filter(Boolean);
        const bad = allUrls.filter(u => !u.includes("docs.google.com"));
        saveLinksModel(model);
        renderLinksLists();

        if(bad.length){
          alertify.warning("ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ… (Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø¹Ø¶ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ù„ÙŠØ³Øª Ù…Ù† docs.google.com)");
        } else {
          alertify.success("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· âœ…");
        }
        createConfetti(80);
      });

      // clear links
      document.getElementById("clearLinksBtn")?.addEventListener("click", () => {
        alertify.confirm(
          "ØªØ£ÙƒÙŠØ¯",
          "Ù‡Ù„ ØªØ±ÙŠØ¯ÙŠÙ† Ø­Ø°Ù ÙƒÙ„ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ØŸ",
          () => {
            localStorage.removeItem(LS.links);
            renderLinksLists();
            alertify.success("ØªÙ… Ø§Ù„Ø­Ø°Ù âœ…");
          },
          () => {}
        );
      });

      // refresh lists
      document.getElementById("refreshListsBtn")?.addEventListener("click", () => {
        renderLinksLists();
        alertify.message("ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« âœ…");
      });

      // demo fill buttons
      document.getElementById("fillDocsDemo")?.addEventListener("click", () => {
        // demo URLs (not real docs) for layout test only
        const model = loadLinksModel();
        model.docs = model.docs.map((d,i)=>({
          title: `Ù…Ø³ØªÙ†Ø¯ ØªØ¬Ø±ÙŠØ¨ÙŠ ${toArabicNumber(i+1)}`,
          url: "https://ar.khanacademy.org/" // safe demo link
        }));
        saveLinksModel(model);
        renderLinksInputs();
        alertify.message("ØªÙ…Øª ØªØ¹Ø¨Ø¦Ø© Ø£Ù…Ø«Ù„Ø© Ù„Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª (Ù„Ù„ØªØ¬Ø±Ø¨Ø© ÙÙ‚Ø·)");
      });

      document.getElementById("fillSlidesDemo")?.addEventListener("click", () => {
        const model = loadLinksModel();
        model.slides = model.slides.map((s,i)=>({
          title: `Ø¹Ø±Ø¶ ØªØ¬Ø±ÙŠØ¨ÙŠ ${toArabicNumber(i+1)}`,
          url: "https://pbskids.org/games"
        }));
        saveLinksModel(model);
        renderLinksInputs();
        alertify.message("ØªÙ…Øª ØªØ¹Ø¨Ø¦Ø© Ø£Ù…Ø«Ù„Ø© Ù„Ù„Ø¹Ø±ÙˆØ¶ (Ù„Ù„ØªØ¬Ø±Ø¨Ø© ÙÙ‚Ø·)");
      });

      // reset button
      document.getElementById("resetBtn")?.addEventListener("click", () => {
        alertify.confirm(
          "ØªØ£ÙƒÙŠØ¯",
          "ØªØµÙÙŠØ± Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ§Ù„Ù†Ù‚Ø§Ø·)ØŸ",
          () => {
            localStorage.removeItem(LS.score);
            localStorage.removeItem(LS.links);
            loadScore();
            renderLinksLists();
            alertify.success("ØªÙ… Ø§Ù„ØªØµÙÙŠØ± âœ…");
          },
          () => {}
        );
      });

      // show features
      document.getElementById("showAllFeaturesBtn")?.addEventListener("click", showAllFeatures);

      // quiz start buttons
      document.querySelectorAll("[data-start-quiz]").forEach(btn => {
        btn.addEventListener("click", () => {
          const type = btn.getAttribute("data-start-quiz");
          startQuiz(type);
        });
      });

      // memory
      startMemory();
      document.getElementById("memoryRestart")?.addEventListener("click", startMemory);

      // speed
      document.getElementById("speedStart")?.addEventListener("click", startSpeed);
      document.getElementById("speedSubmit")?.addEventListener("click", submitSpeed);
      document.getElementById("speedAnswer")?.addEventListener("keydown", (e) => {
        if(e.key === "Enter") submitSpeed();
      });
    });
  </script>
</body>
</html>

